{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n}); // Hot Module Replacement\n\nfunction identity(val) {\n  return val;\n}\n\nfunction bootloader(main, before, after) {\n  if (typeof main === 'object') {\n    var _main = main.main;\n    before = main.before;\n    after = main.after;\n    main = _main;\n  }\n\n  before = before || identity;\n  after = after || identity;\n  var readyState = document.readyState;\n\n  function __domReadyHandler() {\n    document.removeEventListener('DOMContentLoaded', __domReadyHandler);\n    after(main(before(readyState)));\n  }\n\n  switch (readyState) {\n    case 'loading':\n      document.addEventListener('DOMContentLoaded', __domReadyHandler);\n      break;\n\n    case 'interactive':\n    case 'complete':\n    default:\n      after(main(before(readyState)));\n  }\n}\n\nexports.bootloader = bootloader; // create new host elements and remove the old elements\n\nfunction createNewHosts(cmps) {\n  var components = Array.prototype.map.call(cmps, function (componentNode) {\n    var newNode = document.createElement(componentNode.tagName);\n    var parentNode = componentNode.parentNode;\n    var currentDisplay = newNode.style.display;\n    newNode.style.display = 'none';\n    parentNode.insertBefore(newNode, componentNode);\n\n    function removeOldHost() {\n      newNode.style.display = currentDisplay;\n\n      try {\n        parentNode.removeChild(componentNode);\n      } catch (e) {}\n    }\n\n    return removeOldHost;\n  });\n  return function removeOldHosts() {\n    components.forEach(function (removeOldHost) {\n      return removeOldHost();\n    });\n  };\n}\n\nexports.createNewHosts = createNewHosts; // remove old styles\n\nfunction removeNgStyles() {\n  var docHead = document.head;\n\n  var _styles = docHead.querySelectorAll('style');\n\n  var styles = Array.prototype.slice.call(_styles);\n  styles.filter(function (style) {\n    return style.innerText.indexOf('_ng') !== -1;\n  }).map(function (el) {\n    return docHead.removeChild(el);\n  });\n}\n\nexports.removeNgStyles = removeNgStyles; // get input values\n\nfunction getInputValues() {\n  var _inputs = document.querySelectorAll('input');\n\n  var inputs = Array.prototype.slice.call(_inputs);\n  return inputs.map(function (input) {\n    return input.value;\n  });\n}\n\nexports.getInputValues = getInputValues; // set input values\n\nfunction setInputValues(_inputs) {\n  var inputs = document.querySelectorAll('input');\n\n  if (_inputs && inputs.length === _inputs.length) {\n    _inputs.forEach(function (value, i) {\n      var el = inputs[i];\n      el.value = value;\n      el.dispatchEvent(new CustomEvent('input', {\n        detail: el.value\n      }));\n    }); // clear array\n\n\n    _inputs.length = 0;\n  }\n}\n\nexports.setInputValues = setInputValues; // get/set input values\n\nfunction createInputTransfer() {\n  var _inputs = getInputValues();\n\n  return function restoreInputValues() {\n    return setInputValues(_inputs);\n  };\n}\n\nexports.createInputTransfer = createInputTransfer;","map":{"version":3,"sources":["../src/helpers.ts"],"names":[],"mappings":"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","sourcesContent":["// Hot Module Replacement\nfunction identity(val?: any) {\n  return val;\n}\n\nexport function bootloader(main: any, before?: any, after?: any): void {\n  if (typeof main === 'object') {\n    const _main = main.main;\n    before = main.before;\n    after = main.after;\n    main = _main;\n  }\n  before = before || identity;\n  after  = after  || identity;\n  const readyState = document.readyState;\n  function __domReadyHandler() {\n    document.removeEventListener('DOMContentLoaded', __domReadyHandler);\n    after(main(before(readyState)));\n  }\n  switch (readyState) {\n    case 'loading':\n      document.addEventListener('DOMContentLoaded', __domReadyHandler);\n      break;\n    case 'interactive':\n    case 'complete':\n    default:\n      after(main(before(readyState)));\n  }\n}\n\n// create new host elements and remove the old elements\nexport function createNewHosts(cmps: any) {\n  const components = Array.prototype.map.call(cmps, function(componentNode: any) {\n    const newNode = document.createElement(componentNode.tagName);\n    const parentNode = componentNode.parentNode;\n    const currentDisplay = newNode.style.display;\n\n    newNode.style.display = 'none';\n    parentNode.insertBefore(newNode, componentNode);\n\n    function removeOldHost() {\n      newNode.style.display = currentDisplay;\n      try {\n        parentNode.removeChild(componentNode);\n      } catch (e) {}\n    }\n\n    return removeOldHost;\n  });\n  return function removeOldHosts() {\n    components.forEach((removeOldHost: any) => removeOldHost());\n  };\n}\n\n// remove old styles\nexport function removeNgStyles() {\n    const docHead = document.head;\n    const _styles = docHead.querySelectorAll('style');\n    const styles = Array.prototype.slice.call(_styles);\n    styles\n      .filter((style: any) => style.innerText.indexOf('_ng') !== -1)\n      .map((el: any) => docHead.removeChild(el));\n}\n\n// get input values\nexport function getInputValues() {\n  const _inputs = document.querySelectorAll('input');\n  const inputs = Array.prototype.slice.call(_inputs);\n  return inputs.map((input: any) => input.value);\n}\n\n// set input values\nexport function setInputValues(_inputs: any) {\n  const inputs = document.querySelectorAll('input');\n  if (_inputs && inputs.length === _inputs.length) {\n    _inputs.forEach((value: any, i: number) => {\n      const el: any = inputs[i];\n      el.value = value;\n      el.dispatchEvent(new CustomEvent('input', {detail: el.value}));\n    });\n    // clear array\n    _inputs.length = 0;\n  }\n}\n\n// get/set input values\nexport function createInputTransfer() {\n  const _inputs = getInputValues();\n  return function restoreInputValues() {\n    return setInputValues(_inputs);\n  };\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}