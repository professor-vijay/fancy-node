{"ast":null,"code":"/**\n * @fileoverview added by tsickle\n * Generated from: request-animation.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n// tslint:disable: typedef no-invalid-this\n\n/** @type {?} */\nvar availablePrefixes = ['moz', 'ms', 'webkit'];\n/**\n * @return {?}\n */\n\nfunction requestAnimationFramePolyfill() {\n  /** @type {?} */\n  var lastTime = 0;\n  return (\n    /**\n    * @param {?} callback\n    * @return {?}\n    */\n    function (callback) {\n      /** @type {?} */\n      var currTime = new Date().getTime();\n      /** @type {?} */\n\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n      /** @type {?} */\n\n      var id = setTimeout(\n      /**\n      * @return {?}\n      */\n      function () {\n        callback(currTime + timeToCall);\n      }, timeToCall);\n      lastTime = currTime + timeToCall;\n      return id;\n    }\n  );\n}\n/**\n * @return {?}\n */\n\n\nfunction getRequestAnimationFrame() {\n  if (typeof window === 'undefined') {\n    return (\n      /**\n      * @return {?}\n      */\n      function () {\n        return 0;\n      }\n    );\n  }\n\n  if (window.requestAnimationFrame) {\n    // https://github.com/vuejs/vue/issues/4465\n    return window.requestAnimationFrame.bind(window);\n  }\n  /** @type {?} */\n\n\n  var prefix = availablePrefixes.filter(\n  /**\n  * @param {?} key\n  * @return {?}\n  */\n  function (key) {\n    return \"\".concat(key, \"RequestAnimationFrame\") in window;\n  })[0];\n  return prefix ?\n  /** @type {?} */\n  window[\"\".concat(prefix, \"RequestAnimationFrame\")] : requestAnimationFramePolyfill();\n}\n/**\n * @param {?} id\n * @return {?}\n */\n\n\nfunction cancelRequestAnimationFrame(id) {\n  if (typeof window === 'undefined') {\n    return null;\n  }\n\n  if (window.cancelAnimationFrame) {\n    return window.cancelAnimationFrame(id);\n  }\n  /** @type {?} */\n\n\n  var prefix = availablePrefixes.filter(\n  /**\n  * @param {?} key\n  * @return {?}\n  */\n  function (key) {\n    return \"\".concat(key, \"CancelAnimationFrame\") in window || \"\".concat(key, \"CancelRequestAnimationFrame\") in window;\n  })[0];\n  return prefix ? (\n  /** @type {?} */\n  window[\"\".concat(prefix, \"CancelAnimationFrame\")] ||\n  /** @type {?} */\n  window[\"\".concat(prefix, \"CancelRequestAnimationFrame\")] // @ts-ignore\n  ).call(this, id) : clearTimeout(id);\n}\n/** @type {?} */\n\n\nvar reqAnimFrame = getRequestAnimationFrame();\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ng-zorro-antd-core-polyfill.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { cancelRequestAnimationFrame, reqAnimFrame };","map":{"version":3,"sources":["ng-zorro-antd/core/polyfill/request-animation.ts"],"names":[],"mappings":";;;;;;;;IAOM,iBAAiB,GAAG,CAAC,KAAD,EAAQ,IAAR,EAAc,QAAd,C;AAC1B;AACG;AAAe;;AAAlB,SAAS,6BAAT,GAAsC;AAAK;AAAqB,MAC1D,QAAQ,GAAG,CAD+C;AAE9D;AAAA;AAAY;AAA2B;AAAmB;AAAnD,cAAU,QAAV,EAAwC;AAAI;AACpC,UAAP,QAAQ,GAAG,IAAI,IAAJ,GAAW,OAAX,EAAJ;AACjB;;AAAyB,UAAf,UAAU,GAAG,IAAI,CAAC,GAAL,CAAS,CAAT,EAAY,MAAM,QAAQ,GAAG,QAAjB,CAAZ,CAAE;AACzB;;AAAyB,UAAf,EAAE,GAAG,UAAU;AAAA;AAAM;AACX;AADM,kBAAA;AACpB,QAAA,QAAQ,CAAC,QAAQ,GAAG,UAAZ,CAAR;AACD,OAFoB,EAElB,UAFkB,CAAA;AAGrB,MAAA,QAAQ,GAAG,QAAQ,GAAG,UAAtB;AACA,aAAO,EAAP;AACD;AARD;AASD;AACD;AACG;AAAe;;;AAAlB,SAAS,wBAAT,GAAiC;AAC/B,MAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC;AAAA;AAAY;AAED;AAFJ;AAAA,eAAM,CAAN;AAAA;AAAP;AACD;;AACD,MAAI,MAAM,CAAC,qBAAX,EAAkC;AACpC;AACI,WAAO,MAAM,CAAC,qBAAP,CAA6B,IAA7B,CAAkC,MAAlC,CAAP;AACD;AACH;;;AACoB,MAAZ,MAAM,GAAG,iBAAiB,CAAC,MAAlB;AAAwB;AAAM;AAAsB;AAAmB;AAA9C,YAAA,GAAG;AAAA,WAAI,UAAG,GAAH,8BAAiC,MAArC;AAAA,GAA5B,EAAyE,CAAzE,CAAG;AAElB,SAAO,MAAM;AAAG;AAAC,EAAA,MAAD,WAAyB,MAAzB,2BAAH,GAA6D,6BAA6B,EAAvG;AACD;AACD;AAAI;AAAiB;AAAe;;;AAAI,SAAxB,2BAAwB,CAAI,EAAJ,EAAc;AACpD,MAAI,OAAO,MAAP,KAAkB,WAAtB,EAAmC;AACjC,WAAO,IAAP;AACD;;AACD,MAAI,MAAM,CAAC,oBAAX,EAAiC;AAC/B,WAAO,MAAM,CAAC,oBAAP,CAA4B,EAA5B,CAAP;AACD;AACH;;;AAAqB,MAAb,MAAM,GAAG,iBAAiB,CAAC,MAAlB;AAAwB;AACrC;AAAsB;AAAmB;AAAzC,YAAA,GAAG;AAAA,WAAI,UAAG,GAAH,6BAAgC,MAAhC,IAA0C,UAAG,GAAH,oCAAuC,MAArF;AAAA,GADU,EAEb,CAFa,CAAI;AAInB,SAAO,MAAM,GACT;AAAC;AAAC,EAAA,MAAD,WAAyB,MAAzB;AAA0D;AAAC,EAAA,MAAD,WAAyB,MAAzB,iCAA3D,CACN;AADM,IAEG,IAFH,CAEQ,IAFR,EAEc,EAFd,CADS,GAIT,YAAY,CAAC,EAAD,CAJhB;AAKD;AACD;;;AACgB,IAAH,YAAY,GAAG,wBAAwB,EAApC;AACf;AAAI;AAAkC;AAAiC;AAAsI;;AAAK;AAAI;AAAkC;AAAkD;AAAsI;;AAAK,SAAA,2BAAA,EAAA,YAAA","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\n\n// tslint:disable: typedef no-invalid-this\nconst availablePrefixes = ['moz', 'ms', 'webkit'];\n\nfunction requestAnimationFramePolyfill(): typeof requestAnimationFrame {\n  let lastTime = 0;\n  return function (callback: FrameRequestCallback): number {\n    const currTime = new Date().getTime();\n    const timeToCall = Math.max(0, 16 - (currTime - lastTime));\n    const id = setTimeout(() => {\n      callback(currTime + timeToCall);\n    }, timeToCall);\n    lastTime = currTime + timeToCall;\n    return id;\n  };\n}\n\nfunction getRequestAnimationFrame(): typeof requestAnimationFrame {\n  if (typeof window === 'undefined') {\n    return () => 0;\n  }\n  if (window.requestAnimationFrame) {\n    // https://github.com/vuejs/vue/issues/4465\n    return window.requestAnimationFrame.bind(window);\n  }\n\n  const prefix = availablePrefixes.filter(key => `${key}RequestAnimationFrame` in window)[0];\n\n  return prefix ? (window as NzSafeAny)[`${prefix}RequestAnimationFrame`] : requestAnimationFramePolyfill();\n}\nexport function cancelRequestAnimationFrame(id: number): NzSafeAny {\n  if (typeof window === 'undefined') {\n    return null;\n  }\n  if (window.cancelAnimationFrame) {\n    return window.cancelAnimationFrame(id);\n  }\n  const prefix = availablePrefixes.filter(\n    key => `${key}CancelAnimationFrame` in window || `${key}CancelRequestAnimationFrame` in window\n  )[0];\n\n  return prefix\n    ? ((window as NzSafeAny)[`${prefix}CancelAnimationFrame`] || (window as NzSafeAny)[`${prefix}CancelRequestAnimationFrame`])\n        // @ts-ignore\n        .call(this, id)\n    : clearTimeout(id);\n}\n\nexport const reqAnimFrame = getRequestAnimationFrame();\n"]},"metadata":{},"sourceType":"module"}