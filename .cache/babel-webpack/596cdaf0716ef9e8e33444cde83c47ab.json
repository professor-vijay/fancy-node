{"ast":null,"code":"import _toConsumableArray from \"D:/master-sp-new/Biz1Maket_Single_Store/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"D:/master-sp-new/Biz1Maket_Single_Store/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _createForOfIteratorHelper from \"D:/master-sp-new/Biz1Maket_Single_Store/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _createClass from \"D:/master-sp-new/Biz1Maket_Single_Store/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"D:/master-sp-new/Biz1Maket_Single_Store/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { ENTER } from '@angular/cdk/keycodes';\nimport { HttpRequest, HttpHeaders, HttpEventType, HttpResponse, HttpClient } from '@angular/common/http';\nimport { Component, ViewEncapsulation, Optional, ViewChild, Input, ChangeDetectionStrategy, ChangeDetectorRef, Inject, NgZone, EventEmitter, Output, NgModule } from '@angular/core';\nimport { warn } from 'ng-zorro-antd/core/logger';\nimport { of, Observable, Subscription } from 'rxjs';\nimport { switchMap, map, filter } from 'rxjs/operators';\nimport { trigger, transition, style, animate } from '@angular/animations';\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { DOCUMENT, CommonModule } from '@angular/common';\nimport { __decorate, __metadata } from 'tslib';\nimport { toBoolean, InputNumber, InputBoolean } from 'ng-zorro-antd/core/util';\nimport { NzI18nService, NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { FormsModule } from '@angular/forms';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzProgressModule } from 'ng-zorro-antd/progress';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n/**\n * @fileoverview added by tsickle\n * Generated from: interface.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\n/**\n * @record\n */\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common/http';\nimport * as ɵngcc2 from '@angular/cdk/platform';\nimport * as ɵngcc3 from '@angular/common';\nimport * as ɵngcc4 from 'ng-zorro-antd/tooltip';\nimport * as ɵngcc5 from 'ng-zorro-antd/icon';\nimport * as ɵngcc6 from 'ng-zorro-antd/progress';\nimport * as ɵngcc7 from 'ng-zorro-antd/i18n';\nvar _c0 = [\"file\"];\nvar _c1 = [\"nz-upload-btn\", \"\"];\nvar _c2 = [\"*\"];\n\nfunction NzUploadListComponent_div_0_ng_template_1_div_1_ng_template_1_Template(rf, ctx) {}\n\nvar _c3 = function _c3(a0) {\n  return {\n    $implicit: a0\n  };\n};\n\nfunction NzUploadListComponent_div_0_ng_template_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 17);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_1_div_1_ng_template_1_Template, 0, 0, \"ng-template\", 18);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r4 = ɵngcc0.ɵɵreference(4);\n\n    ɵngcc0.ɵɵclassProp(\"ant-upload-list-item-file\", !file_r1.isUploading);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(4, _c3, file_r1));\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_1_a_2_img_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"img\", 21);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(3).$implicit;\n    ɵngcc0.ɵɵproperty(\"src\", file_r1.thumbUrl || file_r1.url, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵattribute(\"alt\", file_r1.name);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_1_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r29 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"a\", 19);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_1_a_2_Template_a_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r29);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r27 = ɵngcc0.ɵɵnextContext();\n      return ctx_r27.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_1_a_2_img_1_Template, 1, 2, \"img\", 20);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n\n    var _r21 = ɵngcc0.ɵɵreference(5);\n\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵclassProp(\"ant-upload-list-item-file\", !file_r1.isImageUrl);\n    ɵngcc0.ɵɵproperty(\"href\", file_r1.url || file_r1.thumbUrl, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.isImageUrl)(\"ngIfElse\", _r21);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_1_span_3_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_1_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 22);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_1_span_3_ng_template_1_Template, 0, 0, \"ng-template\", 18);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r4 = ɵngcc0.ɵɵreference(4);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c3, file_r1));\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_1_ng_template_4_ng_template_0_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_1_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_1_ng_template_4_ng_template_0_Template, 0, 0, \"ng-template\", 18);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r4 = ɵngcc0.ɵɵreference(4);\n\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c3, file_r1));\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0, 12);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_1_div_1_Template, 2, 6, \"div\", 13);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_1_a_2_Template, 2, 5, \"a\", 14);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_template_1_span_3_Template, 2, 4, \"span\", 15);\n    ɵngcc0.ɵɵelementContainerEnd();\n    ɵngcc0.ɵɵtemplate(4, NzUploadListComponent_div_0_ng_template_1_ng_template_4_Template, 1, 4, \"ng-template\", null, 16, ɵngcc0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"ngSwitch\", file_r1.iconType);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"uploading\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"thumbnail\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_3_ng_container_0_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelement(1, \"i\", 27);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_3_ng_container_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_3_ng_container_0_ng_container_2_ng_container_1_Template, 2, 0, \"ng-container\", 23);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r38 = ɵngcc0.ɵɵreference(2);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r36.isUploading)(\"ngIfElse\", _r38);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_3_ng_container_0_ng_container_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r45 = ɵngcc0.ɵɵnextContext(5);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r45.locale.uploading);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_3_ng_container_0_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_3_ng_container_0_ng_container_3_ng_container_1_Template, 2, 1, \"ng-container\", 23);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext(2).$implicit;\n\n    var _r38 = ɵngcc0.ɵɵreference(2);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r36.isUploading)(\"ngIfElse\", _r38);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_3_ng_container_0_i_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 28);\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"nzType\", file_r36.isUploading ? \"loading\" : \"paper-clip\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_3_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementContainerStart(1, 12);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_3_ng_container_0_ng_container_2_Template, 2, 2, \"ng-container\", 25);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_template_3_ng_container_0_ng_container_3_Template, 2, 2, \"ng-container\", 25);\n    ɵngcc0.ɵɵtemplate(4, NzUploadListComponent_div_0_ng_template_3_ng_container_0_i_4_Template, 1, 1, \"i\", 26);\n    ɵngcc0.ɵɵelementContainerEnd();\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r37 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitch\", ctx_r37.listType);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"picture\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngSwitchCase\", \"picture-card\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_3_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"i\", 29);\n  }\n\n  if (rf & 2) {\n    var file_r36 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"nzType\", file_r36.isImageUrl ? \"picture\" : \"file\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_3_ng_container_0_Template, 5, 3, \"ng-container\", 23);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_3_ng_template_1_Template, 1, 1, \"ng-template\", null, 24, ɵngcc0.ɵɵtemplateRefExtractor);\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r5.iconRender)(\"ngIfElse\", ctx_r5.iconRender);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_5_span_0_a_1_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_5_span_0_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"a\", 32);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_5_span_0_a_1_ng_template_1_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(3);\n\n    var _r12 = ɵngcc0.ɵɵreference(12);\n\n    var ctx_r50 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r50.locale.downloadFile);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r12);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_5_span_0_a_2_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_5_span_0_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"a\", 32);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_5_span_0_a_2_ng_template_1_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(3);\n\n    var _r10 = ɵngcc0.ɵɵreference(10);\n\n    var ctx_r51 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r51.locale.removeFile);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r10);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_5_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\");\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_5_span_0_a_1_Template, 2, 2, \"a\", 31);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_5_span_0_a_2_Template, 2, 2, \"a\", 31);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    var ctx_r49 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassMapInterpolate1(\"ant-upload-list-item-card-actions \", ctx_r49.listType === \"picture\" ? \"picture\" : \"\", \"\");\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.showDownload);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r49.icons.showRemoveIcon);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_5_span_0_Template, 3, 5, \"span\", 30);\n  }\n\n  if (rf & 2) {\n    var ctx_r7 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r7.listType !== \"picture-card\");\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_7_a_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r60 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"a\", 35);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_7_a_0_Template_a_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r60);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r58 = ɵngcc0.ɵɵnextContext();\n      return ctx_r58.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"ngClass\", file_r1.listItemNameCls)(\"href\", file_r1.url, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵattribute(\"title\", file_r1.name)(\"download\", file_r1.linkProps && file_r1.linkProps.download);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(file_r1.name);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_7_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r64 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"span\", 36);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_7_span_1_Template_span_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r64);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r62 = ɵngcc0.ɵɵnextContext();\n      return ctx_r62.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    ɵngcc0.ɵɵproperty(\"ngClass\", file_r1.listItemNameCls);\n    ɵngcc0.ɵɵattribute(\"title\", file_r1.name);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(file_r1.name);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_7_ng_template_2_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_7_a_0_Template, 2, 5, \"a\", 33);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_7_span_1_Template, 2, 3, \"span\", 34);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_ng_template_7_ng_template_2_Template, 0, 0, \"ng-template\", 9);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n\n    var _r6 = ɵngcc0.ɵɵreference(6);\n\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.url);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !file_r1.url);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r6);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_9_i_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r70 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"i\", 38);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_9_i_0_Template_i_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r70);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r68 = ɵngcc0.ɵɵnextContext();\n      return ctx_r68.handleRemove(file_r1, $event);\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r67 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r67.locale.removeFile);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_9_i_0_Template, 1, 1, \"i\", 37);\n  }\n\n  if (rf & 2) {\n    var ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r11.icons.showRemoveIcon);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_11_i_0_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r74 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"i\", 40);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_ng_template_11_i_0_Template_i_click_0_listener() {\n      ɵngcc0.ɵɵrestoreView(_r74);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r72 = ɵngcc0.ɵɵnextContext();\n      return ctx_r72.handleDownload(file_r1);\n    });\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r71 = ɵngcc0.ɵɵnextContext(3);\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r71.locale.downloadFile);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_ng_template_11_i_0_Template, 1, 1, \"i\", 39);\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.showDownload);\n  }\n}\n\nfunction NzUploadListComponent_div_0_ng_template_15_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_ng_template_16_Template(rf, ctx) {}\n\nvar _c4 = function _c4() {\n  return {\n    opacity: 0.5,\n    \"pointer-events\": \"none\"\n  };\n};\n\nfunction NzUploadListComponent_div_0_span_17_a_1_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r81 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementStart(0, \"a\", 43);\n    ɵngcc0.ɵɵlistener(\"click\", function NzUploadListComponent_div_0_span_17_a_1_Template_a_click_0_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r81);\n      var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n      var ctx_r79 = ɵngcc0.ɵɵnextContext();\n      return ctx_r79.handlePreview(file_r1, $event);\n    });\n    ɵngcc0.ɵɵelement(1, \"i\", 44);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext(2).$implicit;\n    var ctx_r76 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵpropertyInterpolate(\"title\", ctx_r76.locale.previewFile);\n    ɵngcc0.ɵɵproperty(\"href\", file_r1.url || file_r1.thumbUrl, ɵngcc0.ɵɵsanitizeUrl)(\"ngStyle\", !(file_r1.url || file_r1.thumbUrl) ? ɵngcc0.ɵɵpureFunction0(3, _c4) : null);\n  }\n}\n\nfunction NzUploadListComponent_div_0_span_17_ng_template_2_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_span_17_ng_template_3_Template(rf, ctx) {}\n\nfunction NzUploadListComponent_div_0_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"span\", 41);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_span_17_a_1_Template, 2, 4, \"a\", 42);\n    ɵngcc0.ɵɵtemplate(2, NzUploadListComponent_div_0_span_17_ng_template_2_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_span_17_ng_template_3_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n\n    var _r12 = ɵngcc0.ɵɵreference(12);\n\n    var _r10 = ɵngcc0.ɵɵreference(10);\n\n    var ctx_r16 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r16.icons.showPreviewIcon);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r12);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r10);\n  }\n}\n\nfunction NzUploadListComponent_div_0_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 45);\n    ɵngcc0.ɵɵelement(1, \"nz-progress\", 46);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ɵngcc0.ɵɵnextContext().$implicit;\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"nzPercent\", file_r1.percent)(\"nzShowInfo\", false)(\"nzStrokeWidth\", 2);\n  }\n}\n\nfunction NzUploadListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 1);\n    ɵngcc0.ɵɵtemplate(1, NzUploadListComponent_div_0_ng_template_1_Template, 6, 3, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(3, NzUploadListComponent_div_0_ng_template_3_Template, 3, 2, \"ng-template\", null, 3, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(5, NzUploadListComponent_div_0_ng_template_5_Template, 1, 1, \"ng-template\", null, 4, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(7, NzUploadListComponent_div_0_ng_template_7_Template, 3, 3, \"ng-template\", null, 5, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(9, NzUploadListComponent_div_0_ng_template_9_Template, 1, 1, \"ng-template\", null, 6, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵtemplate(11, NzUploadListComponent_div_0_ng_template_11_Template, 1, 1, \"ng-template\", null, 7, ɵngcc0.ɵɵtemplateRefExtractor);\n    ɵngcc0.ɵɵelementStart(13, \"div\", 8);\n    ɵngcc0.ɵɵelementStart(14, \"span\");\n    ɵngcc0.ɵɵtemplate(15, NzUploadListComponent_div_0_ng_template_15_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵtemplate(16, NzUploadListComponent_div_0_ng_template_16_Template, 0, 0, \"ng-template\", 9);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(17, NzUploadListComponent_div_0_span_17_Template, 4, 3, \"span\", 10);\n    ɵngcc0.ɵɵtemplate(18, NzUploadListComponent_div_0_div_18_Template, 2, 3, \"div\", 11);\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var file_r1 = ctx.$implicit;\n\n    var _r2 = ɵngcc0.ɵɵreference(2);\n\n    var _r8 = ɵngcc0.ɵɵreference(8);\n\n    var ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassMapInterpolate2(\"ant-upload-list-item ant-upload-list-item-\", file_r1.status, \" ant-upload-list-item-list-type-\", ctx_r0.listType, \"\");\n    ɵngcc0.ɵɵproperty(\"@itemState\", undefined)(\"nzTooltipTitle\", file_r1.status === \"error\" ? file_r1.message : null);\n    ɵngcc0.ɵɵattribute(\"data-key\", file_r1.key);\n    ɵngcc0.ɵɵadvance(15);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r8);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r0.listType === \"picture-card\" && !file_r1.isUploading);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", file_r1.isUploading);\n  }\n}\n\nvar _c5 = [\"uploadComp\"];\nvar _c6 = [\"listComp\"];\n\nvar _c7 = function _c7() {\n  return [];\n};\n\nfunction NzUploadComponent_ng_template_0_nz_upload_list_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"nz-upload-list\", 8, 9);\n  }\n\n  if (rf & 2) {\n    var ctx_r11 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵstyleProp(\"display\", ctx_r11.nzShowUploadList ? \"\" : \"none\");\n    ɵngcc0.ɵɵproperty(\"locale\", ctx_r11.locale)(\"listType\", ctx_r11.nzListType)(\"items\", ctx_r11.nzFileList || ɵngcc0.ɵɵpureFunction0(12, _c7))(\"icons\", ctx_r11.nzShowUploadList)(\"iconRender\", ctx_r11.nzIconRender)(\"previewFile\", ctx_r11.nzPreviewFile)(\"previewIsImage\", ctx_r11.nzPreviewIsImage)(\"onPreview\", ctx_r11.nzPreview)(\"onRemove\", ctx_r11.onRemove)(\"onDownload\", ctx_r11.nzDownload);\n  }\n}\n\nfunction NzUploadComponent_ng_template_0_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n  }\n}\n\nfunction NzUploadComponent_ng_template_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_0_ng_container_1_ng_container_1_Template, 1, 0, \"ng-container\", 10);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r12 = ɵngcc0.ɵɵnextContext(2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r12.nzFileListRender)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(2, _c3, ctx_r12.nzFileList));\n  }\n}\n\nfunction NzUploadComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_0_nz_upload_list_0_Template, 2, 13, \"nz-upload-list\", 6);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_0_ng_container_1_Template, 2, 4, \"ng-container\", 7);\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.locale && !ctx_r1.nzFileListRender);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r1.nzFileListRender);\n  }\n}\n\nfunction NzUploadComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵprojection(0);\n  }\n}\n\nfunction NzUploadComponent_ng_template_4_ng_template_3_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 11);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 12, 13);\n    ɵngcc0.ɵɵtemplate(3, NzUploadComponent_ng_template_4_ng_template_3_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r5 = ɵngcc0.ɵɵnextContext();\n\n    var _r2 = ɵngcc0.ɵɵreference(3);\n\n    ɵngcc0.ɵɵstyleProp(\"display\", ctx_r5.nzShowButton ? \"\" : \"none\");\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r5.classList);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"options\", ctx_r5._btnOptions);\n    ɵngcc0.ɵɵadvance(2);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n  }\n}\n\nfunction NzUploadComponent_ng_container_6_ng_template_5_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_container_6_ng_template_6_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r21 = ɵngcc0.ɵɵgetCurrentView();\n\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelementStart(1, \"div\", 15);\n    ɵngcc0.ɵɵlistener(\"drop\", function NzUploadComponent_ng_container_6_Template_div_drop_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r21);\n      var ctx_r20 = ɵngcc0.ɵɵnextContext();\n      return ctx_r20.fileDrop($event);\n    })(\"dragover\", function NzUploadComponent_ng_container_6_Template_div_dragover_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r21);\n      var ctx_r22 = ɵngcc0.ɵɵnextContext();\n      return ctx_r22.fileDrop($event);\n    })(\"dragleave\", function NzUploadComponent_ng_container_6_Template_div_dragleave_1_listener($event) {\n      ɵngcc0.ɵɵrestoreView(_r21);\n      var ctx_r23 = ɵngcc0.ɵɵnextContext();\n      return ctx_r23.fileDrop($event);\n    });\n    ɵngcc0.ɵɵelementStart(2, \"div\", 16, 13);\n    ɵngcc0.ɵɵelementStart(4, \"div\", 17);\n    ɵngcc0.ɵɵtemplate(5, NzUploadComponent_ng_container_6_ng_template_5_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(6, NzUploadComponent_ng_container_6_ng_template_6_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r6 = ɵngcc0.ɵɵnextContext();\n\n    var _r2 = ɵngcc0.ɵɵreference(3);\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r6.classList);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"options\", ctx_r6._btnOptions);\n    ɵngcc0.ɵɵadvance(3);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r2);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r0);\n  }\n}\n\nfunction NzUploadComponent_ng_template_7_ng_container_0_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_7_ng_container_0_ng_template_2_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_7_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_7_ng_container_0_ng_template_1_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵtemplate(2, NzUploadComponent_ng_template_7_ng_container_0_ng_template_2_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext(2);\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r0);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4);\n  }\n}\n\nfunction NzUploadComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_7_ng_container_0_Template, 3, 2, \"ng-container\", 3);\n  }\n\n  if (rf & 2) {\n    var ctx_r8 = ɵngcc0.ɵɵnextContext();\n\n    var _r9 = ɵngcc0.ɵɵreference(10);\n\n    ɵngcc0.ɵɵproperty(\"ngIf\", ctx_r8.nzListType === \"picture-card\")(\"ngIfElse\", _r9);\n  }\n}\n\nfunction NzUploadComponent_ng_template_9_ng_template_0_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_9_ng_template_1_Template(rf, ctx) {}\n\nfunction NzUploadComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_9_ng_template_0_Template, 0, 0, \"ng-template\", 14);\n    ɵngcc0.ɵɵtemplate(1, NzUploadComponent_ng_template_9_ng_template_1_Template, 0, 0, \"ng-template\", 14);\n  }\n\n  if (rf & 2) {\n    ɵngcc0.ɵɵnextContext();\n\n    var _r4 = ɵngcc0.ɵɵreference(5);\n\n    var _r0 = ɵngcc0.ɵɵreference(1);\n\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r4);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", _r0);\n  }\n}\n\nfunction NzUploadFile() {}\n\nif (false) {\n  /** @type {?} */\n  NzUploadFile.prototype.uid;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.size;\n  /** @type {?} */\n\n  NzUploadFile.prototype.name;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.filename;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.lastModified;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.lastModifiedDate;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.url;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.status;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.originFileObj;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.percent;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.thumbUrl;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.response;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.error;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.linkProps;\n  /** @type {?|undefined} */\n\n  NzUploadFile.prototype.type;\n  /* Skipping unhandled member: [key: string]: NzSafeAny;*/\n}\n/**\n * @record\n */\n\n\nfunction NzUploadChangeParam() {}\n\nif (false) {\n  /** @type {?} */\n  NzUploadChangeParam.prototype.file;\n  /** @type {?} */\n\n  NzUploadChangeParam.prototype.fileList;\n  /** @type {?|undefined} */\n\n  NzUploadChangeParam.prototype.event;\n  /**\n   * Callback type.\n   * @type {?|undefined}\n   */\n\n  NzUploadChangeParam.prototype.type;\n}\n/**\n * @record\n */\n\n\nfunction NzShowUploadList() {}\n\nif (false) {\n  /** @type {?|undefined} */\n  NzShowUploadList.prototype.showRemoveIcon;\n  /** @type {?|undefined} */\n\n  NzShowUploadList.prototype.showPreviewIcon;\n  /** @type {?|undefined} */\n\n  NzShowUploadList.prototype.showDownloadIcon;\n}\n/**\n * @record\n */\n\n\nfunction ZipButtonOptions() {}\n\nif (false) {\n  /** @type {?|undefined} */\n  ZipButtonOptions.prototype.disabled;\n  /** @type {?|undefined} */\n\n  ZipButtonOptions.prototype.accept;\n  /** @type {?|undefined} */\n\n  ZipButtonOptions.prototype.action;\n  /** @type {?|undefined} */\n\n  ZipButtonOptions.prototype.directory;\n  /** @type {?|undefined} */\n\n  ZipButtonOptions.prototype.openFileDialogOnClick;\n  /** @type {?|undefined} */\n\n  ZipButtonOptions.prototype.data;\n  /** @type {?|undefined} */\n\n  ZipButtonOptions.prototype.headers;\n  /** @type {?|undefined} */\n\n  ZipButtonOptions.prototype.name;\n  /** @type {?|undefined} */\n\n  ZipButtonOptions.prototype.multiple;\n  /** @type {?|undefined} */\n\n  ZipButtonOptions.prototype.withCredentials;\n  /** @type {?|undefined} */\n\n  ZipButtonOptions.prototype.filters;\n  /**\n   * @param {?} file\n   * @param {?} fileList\n   * @return {?}\n   */\n\n  ZipButtonOptions.prototype.beforeUpload = function (file, fileList) {};\n  /**\n   * @param {?} item\n   * @return {?}\n   */\n\n\n  ZipButtonOptions.prototype.customRequest = function (item) {};\n  /**\n   * @param {?} file\n   * @return {?}\n   */\n\n\n  ZipButtonOptions.prototype.transformFile = function (file) {};\n  /**\n   * @param {?} file\n   * @return {?}\n   */\n\n\n  ZipButtonOptions.prototype.onStart = function (file) {};\n  /**\n   * @param {?} e\n   * @param {?} file\n   * @return {?}\n   */\n\n\n  ZipButtonOptions.prototype.onProgress = function (e, file) {};\n  /**\n   * @param {?} ret\n   * @param {?} file\n   * @param {?} xhr\n   * @return {?}\n   */\n\n\n  ZipButtonOptions.prototype.onSuccess = function (ret, file, xhr) {};\n  /**\n   * @param {?} err\n   * @param {?} file\n   * @return {?}\n   */\n\n\n  ZipButtonOptions.prototype.onError = function (err, file) {};\n}\n/**\n * @record\n */\n\n\nfunction UploadFilter() {}\n\nif (false) {\n  /** @type {?} */\n  UploadFilter.prototype.name;\n  /**\n   * @param {?} fileList\n   * @return {?}\n   */\n\n  UploadFilter.prototype.fn = function (fileList) {};\n}\n/**\n * @record\n */\n\n\nfunction NzUploadXHRArgs() {}\n\nif (false) {\n  /** @type {?|undefined} */\n  NzUploadXHRArgs.prototype.action;\n  /** @type {?|undefined} */\n\n  NzUploadXHRArgs.prototype.name;\n  /** @type {?|undefined} */\n\n  NzUploadXHRArgs.prototype.headers;\n  /** @type {?} */\n\n  NzUploadXHRArgs.prototype.file;\n  /** @type {?} */\n\n  NzUploadXHRArgs.prototype.postFile;\n  /** @type {?|undefined} */\n\n  NzUploadXHRArgs.prototype.data;\n  /** @type {?|undefined} */\n\n  NzUploadXHRArgs.prototype.withCredentials;\n  /**\n   * @param {?} e\n   * @param {?} file\n   * @return {?}\n   */\n\n  NzUploadXHRArgs.prototype.onProgress = function (e, file) {};\n  /**\n   * @param {?} ret\n   * @param {?} file\n   * @param {?} xhr\n   * @return {?}\n   */\n\n\n  NzUploadXHRArgs.prototype.onSuccess = function (ret, file, xhr) {};\n  /**\n   * @param {?} err\n   * @param {?} file\n   * @return {?}\n   */\n\n\n  NzUploadXHRArgs.prototype.onError = function (err, file) {};\n}\n\nvar NzShowUploadListInterface = /*#__PURE__*/_createClass(function NzShowUploadListInterface() {\n  _classCallCheck(this, NzShowUploadListInterface);\n});\n/**\n * @fileoverview added by tsickle\n * Generated from: upload-btn.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nvar NzUploadBtnComponent = /*#__PURE__*/function () {\n  /**\n   * @param {?} http\n   */\n  function NzUploadBtnComponent(http) {\n    _classCallCheck(this, NzUploadBtnComponent);\n\n    this.http = http;\n    this.reqs = {};\n    this.destroy = false;\n\n    if (!http) {\n      throw new Error(\"Not found 'HttpClient', You can import 'HttpClientModule' in your root module.\");\n    }\n  }\n  /**\n   * @return {?}\n   */\n\n\n  _createClass(NzUploadBtnComponent, [{\n    key: \"onClick\",\n    value: function onClick() {\n      if (this.options.disabled || !this.options.openFileDialogOnClick) {\n        return;\n      }\n\n      /** @type {?} */\n      this.file.nativeElement.click();\n    }\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n\n  }, {\n    key: \"onKeyDown\",\n    value: function onKeyDown(e) {\n      if (this.options.disabled) {\n        return;\n      }\n\n      if (e.key === 'Enter' || e.keyCode === ENTER) {\n        this.onClick();\n      }\n    } // skip safari bug\n\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n\n  }, {\n    key: \"onFileDrop\",\n    value: function onFileDrop(e) {\n      var _this = this;\n\n      if (this.options.disabled || e.type === 'dragover') {\n        e.preventDefault();\n        return;\n      }\n\n      if (this.options.directory) {\n        this.traverseFileTree(\n        /** @type {?} */\n        e.dataTransfer.items);\n      } else {\n        /** @type {?} */\n        var files = Array.prototype.slice.call(\n        /** @type {?} */\n        e.dataTransfer.files).filter(\n        /**\n        * @param {?} file\n        * @return {?}\n        */\n        function (file) {\n          return _this.attrAccept(file, _this.options.accept);\n        });\n\n        if (files.length) {\n          this.uploadFiles(files);\n        }\n      }\n\n      e.preventDefault();\n    }\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      if (this.options.disabled) {\n        return;\n      }\n      /** @type {?} */\n\n\n      var hie =\n      /** @type {?} */\n      e.target;\n      this.uploadFiles(\n      /** @type {?} */\n      hie.files);\n      hie.value = '';\n    }\n    /**\n     * @private\n     * @param {?} files\n     * @return {?}\n     */\n\n  }, {\n    key: \"traverseFileTree\",\n    value: function traverseFileTree(files) {\n      var _this2 = this;\n\n      /** @type {?} */\n      var _traverseFileTree =\n      /**\n      * @param {?} item\n      * @param {?} path\n      * @return {?}\n      */\n      function _traverseFileTree(item, path) {\n        if (item.isFile) {\n          item.file(\n          /**\n          * @param {?} file\n          * @return {?}\n          */\n          function (file) {\n            if (_this2.attrAccept(file, _this2.options.accept)) {\n              _this2.uploadFiles([file]);\n            }\n          });\n        } else if (item.isDirectory) {\n          /** @type {?} */\n          var dirReader = item.createReader();\n          dirReader.readEntries(\n          /**\n          * @param {?} entries\n          * @return {?}\n          */\n          function (entries) {\n            var _iterator = _createForOfIteratorHelper(entries),\n                _step;\n\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var entrieItem = _step.value;\n\n                _traverseFileTree(entrieItem, \"\".concat(path).concat(item.name, \"/\"));\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n          });\n        }\n      };\n\n      var _iterator2 = _createForOfIteratorHelper(\n      /** @type {?} */\n      files),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var file = _step2.value;\n\n          _traverseFileTree(file.webkitGetAsEntry(), '');\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @param {?=} acceptedFiles\n     * @return {?}\n     */\n\n  }, {\n    key: \"attrAccept\",\n    value: function attrAccept(file, acceptedFiles) {\n      if (file && acceptedFiles) {\n        /** @type {?} */\n        var acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n        /** @type {?} */\n\n        var fileName = '' + file.name;\n        /** @type {?} */\n\n        var mimeType = '' + file.type;\n        /** @type {?} */\n\n        var baseMimeType = mimeType.replace(/\\/.*$/, '');\n        return acceptedFilesArray.some(\n        /**\n        * @param {?} type\n        * @return {?}\n        */\n        function (type) {\n          /** @type {?} */\n          var validType = type.trim();\n\n          if (validType.charAt(0) === '.') {\n            return fileName.toLowerCase().indexOf(validType.toLowerCase(), fileName.toLowerCase().length - validType.toLowerCase().length) !== -1;\n          } else if (/\\/\\*$/.test(validType)) {\n            // This is something like a image/* mime type\n            return baseMimeType === validType.replace(/\\/.*$/, '');\n          }\n\n          return mimeType === validType;\n        });\n      }\n\n      return true;\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"attachUid\",\n    value: function attachUid(file) {\n      if (!file.uid) {\n        file.uid = Math.random().toString(36).substring(2);\n      }\n\n      return file;\n    }\n    /**\n     * @param {?} fileList\n     * @return {?}\n     */\n\n  }, {\n    key: \"uploadFiles\",\n    value: function uploadFiles(fileList) {\n      var _this3 = this;\n\n      /** @type {?} */\n      var filters$ = of(Array.prototype.slice.call(fileList));\n\n      if (this.options.filters) {\n        this.options.filters.forEach(\n        /**\n        * @param {?} f\n        * @return {?}\n        */\n        function (f) {\n          filters$ = filters$.pipe(switchMap(\n          /**\n          * @param {?} list\n          * @return {?}\n          */\n          function (list) {\n            /** @type {?} */\n            var fnRes = f.fn(list);\n            return fnRes instanceof Observable ? fnRes : of(fnRes);\n          }));\n        });\n      }\n\n      filters$.subscribe(\n      /**\n      * @param {?} list\n      * @return {?}\n      */\n      function (list) {\n        list.forEach(\n        /**\n        * @param {?} file\n        * @return {?}\n        */\n        function (file) {\n          _this3.attachUid(file);\n\n          _this3.upload(file, list);\n        });\n      },\n      /**\n      * @param {?} e\n      * @return {?}\n      */\n      function (e) {\n        warn(\"Unhandled upload filter error\", e);\n      });\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @param {?} fileList\n     * @return {?}\n     */\n\n  }, {\n    key: \"upload\",\n    value: function upload(file, fileList) {\n      var _this4 = this;\n\n      if (!this.options.beforeUpload) {\n        return this.post(file);\n      }\n      /** @type {?} */\n\n\n      var before = this.options.beforeUpload(file, fileList);\n\n      if (before instanceof Observable) {\n        before.subscribe(\n        /**\n        * @param {?} processedFile\n        * @return {?}\n        */\n        function (processedFile) {\n          /** @type {?} */\n          var processedFileType = Object.prototype.toString.call(processedFile);\n\n          if (processedFileType === '[object File]' || processedFileType === '[object Blob]') {\n            _this4.attachUid(processedFile);\n\n            _this4.post(processedFile);\n          } else if (typeof processedFile === 'boolean' && processedFile !== false) {\n            _this4.post(file);\n          }\n        },\n        /**\n        * @param {?} e\n        * @return {?}\n        */\n        function (e) {\n          warn(\"Unhandled upload beforeUpload error\", e);\n        });\n      } else if (before !== false) {\n        return this.post(file);\n      }\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"post\",\n    value: function post(file) {\n      var _this5 = this;\n\n      if (this.destroy) {\n        return;\n      }\n      /** @type {?} */\n\n\n      var process$ = of(file);\n      /** @type {?} */\n\n      var opt = this.options;\n      var uid = file.uid;\n      var action = opt.action,\n          data = opt.data,\n          headers = opt.headers,\n          transformFile = opt.transformFile;\n      /** @type {?} */\n\n      var args = {\n        action: typeof action === 'string' ? action : '',\n        name: opt.name,\n        headers: headers,\n        file: file,\n        postFile: file,\n        data: data,\n        withCredentials: opt.withCredentials,\n        onProgress: opt.onProgress ?\n        /**\n        * @param {?} e\n        * @return {?}\n        */\n        function (e) {\n          /** @type {?} */\n          opt.onProgress(e, file);\n        } : undefined,\n        onSuccess:\n        /**\n        * @param {?} ret\n        * @param {?} xhr\n        * @return {?}\n        */\n        function onSuccess(ret, xhr) {\n          _this5.clean(uid);\n\n          /** @type {?} */\n          opt.onSuccess(ret, file, xhr);\n        },\n        onError:\n        /**\n        * @param {?} xhr\n        * @return {?}\n        */\n        function onError(xhr) {\n          _this5.clean(uid);\n\n          /** @type {?} */\n          opt.onError(xhr, file);\n        }\n      };\n\n      if (typeof action === 'function') {\n        /** @type {?} */\n        var actionResult =\n        /** @type {?} */\n        action(file);\n\n        if (actionResult instanceof Observable) {\n          process$ = process$.pipe(switchMap(\n          /**\n          * @return {?}\n          */\n          function () {\n            return actionResult;\n          }), map(\n          /**\n          * @param {?} res\n          * @return {?}\n          */\n          function (res) {\n            args.action = res;\n            return file;\n          }));\n        } else {\n          args.action = actionResult;\n        }\n      }\n\n      if (typeof transformFile === 'function') {\n        /** @type {?} */\n        var transformResult = transformFile(file);\n        process$ = process$.pipe(switchMap(\n        /**\n        * @return {?}\n        */\n        function () {\n          return transformResult instanceof Observable ? transformResult : of(transformResult);\n        }));\n      }\n\n      if (typeof data === 'function') {\n        /** @type {?} */\n        var dataResult =\n        /** @type {?} */\n        data(file);\n\n        if (dataResult instanceof Observable) {\n          process$ = process$.pipe(switchMap(\n          /**\n          * @return {?}\n          */\n          function () {\n            return dataResult;\n          }), map(\n          /**\n          * @param {?} res\n          * @return {?}\n          */\n          function (res) {\n            args.data = res;\n            return file;\n          }));\n        } else {\n          args.data = dataResult;\n        }\n      }\n\n      if (typeof headers === 'function') {\n        /** @type {?} */\n        var headersResult =\n        /** @type {?} */\n        headers(file);\n\n        if (headersResult instanceof Observable) {\n          process$ = process$.pipe(switchMap(\n          /**\n          * @return {?}\n          */\n          function () {\n            return headersResult;\n          }), map(\n          /**\n          * @param {?} res\n          * @return {?}\n          */\n          function (res) {\n            args.headers = res;\n            return file;\n          }));\n        } else {\n          args.headers = headersResult;\n        }\n      }\n\n      process$.subscribe(\n      /**\n      * @param {?} newFile\n      * @return {?}\n      */\n      function (newFile) {\n        args.postFile = newFile;\n        /** @type {?} */\n\n        var req$ = (opt.customRequest || _this5.xhr).call(_this5, args);\n\n        if (!(req$ instanceof Subscription)) {\n          warn(\"Must return Subscription type in '[nzCustomRequest]' property\");\n        }\n\n        _this5.reqs[uid] = req$;\n\n        /** @type {?} */\n        opt.onStart(file);\n      });\n    }\n    /**\n     * @private\n     * @param {?} args\n     * @return {?}\n     */\n\n  }, {\n    key: \"xhr\",\n    value: function xhr(args) {\n      var _this6 = this;\n\n      /** @type {?} */\n      var formData = new FormData();\n\n      if (args.data) {\n        Object.keys(args.data).map(\n        /**\n        * @param {?} key\n        * @return {?}\n        */\n        function (key) {\n          formData.append(key,\n          /** @type {?} */\n          args.data[key]);\n        });\n      }\n\n      formData.append(\n      /** @type {?} */\n      args.name,\n      /** @type {?} */\n      args.postFile);\n\n      if (!args.headers) {\n        args.headers = {};\n      }\n\n      if (args.headers['X-Requested-With'] !== null) {\n        args.headers['X-Requested-With'] = \"XMLHttpRequest\";\n      } else {\n        delete args.headers['X-Requested-With'];\n      }\n      /** @type {?} */\n\n\n      var req = new HttpRequest('POST',\n      /** @type {?} */\n      args.action, formData, {\n        reportProgress: true,\n        withCredentials: args.withCredentials,\n        headers: new HttpHeaders(args.headers)\n      });\n      return this.http.request(req).subscribe(\n      /**\n      * @param {?} event\n      * @return {?}\n      */\n      function (event) {\n        if (event.type === HttpEventType.UploadProgress) {\n          if (\n          /** @type {?} */\n          event.total > 0) {\n            /** @type {?} */\n            event.percent = event.loaded /\n            /** @type {?} */\n            event.total * 100;\n          }\n\n          /** @type {?} */\n          args.onProgress(event, args.file);\n        } else if (event instanceof HttpResponse) {\n          /** @type {?} */\n          args.onSuccess(event.body, args.file, event);\n        }\n      },\n      /**\n      * @param {?} err\n      * @return {?}\n      */\n      function (err) {\n        _this6.abort(args.file);\n\n        /** @type {?} */\n        args.onError(err, args.file);\n      });\n    }\n    /**\n     * @private\n     * @param {?} uid\n     * @return {?}\n     */\n\n  }, {\n    key: \"clean\",\n    value: function clean(uid) {\n      /** @type {?} */\n      var req$ = this.reqs[uid];\n\n      if (req$ instanceof Subscription) {\n        req$.unsubscribe();\n      }\n\n      delete this.reqs[uid];\n    }\n    /**\n     * @param {?=} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"abort\",\n    value: function abort(file) {\n      var _this7 = this;\n\n      if (file) {\n        this.clean(file && file.uid);\n      } else {\n        Object.keys(this.reqs).forEach(\n        /**\n        * @param {?} uid\n        * @return {?}\n        */\n        function (uid) {\n          return _this7.clean(uid);\n        });\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.destroy = true;\n      this.abort();\n    }\n  }]);\n\n  return NzUploadBtnComponent;\n}();\n\nNzUploadBtnComponent.ɵfac = function NzUploadBtnComponent_Factory(t) {\n  return new (t || NzUploadBtnComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc1.HttpClient, 8));\n};\n\nNzUploadBtnComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzUploadBtnComponent,\n  selectors: [[\"\", \"nz-upload-btn\", \"\"]],\n  viewQuery: function NzUploadBtnComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, true);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.file = _t.first);\n    }\n  },\n  hostVars: 6,\n  hostBindings: function NzUploadBtnComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵlistener(\"click\", function NzUploadBtnComponent_click_HostBindingHandler() {\n        return ctx.onClick();\n      })(\"keydown\", function NzUploadBtnComponent_keydown_HostBindingHandler($event) {\n        return ctx.onKeyDown($event);\n      })(\"drop\", function NzUploadBtnComponent_drop_HostBindingHandler($event) {\n        return ctx.onFileDrop($event);\n      })(\"dragover\", function NzUploadBtnComponent_dragover_HostBindingHandler($event) {\n        return ctx.onFileDrop($event);\n      });\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵattribute(\"tabindex\", \"0\")(\"role\", \"button\");\n      ɵngcc0.ɵɵclassProp(\"ant-upload\", true)(\"ant-upload-disabled\", ctx.options.disabled);\n    }\n  },\n  inputs: {\n    options: \"options\"\n  },\n  exportAs: [\"nzUploadBtn\"],\n  attrs: _c1,\n  ngContentSelectors: _c2,\n  decls: 3,\n  vars: 4,\n  consts: [[\"type\", \"file\", 2, \"display\", \"none\", 3, \"multiple\", \"change\"], [\"file\", \"\"]],\n  template: function NzUploadBtnComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵelementStart(0, \"input\", 0, 1);\n      ɵngcc0.ɵɵlistener(\"change\", function NzUploadBtnComponent_Template_input_change_0_listener($event) {\n        return ctx.onChange($event);\n      });\n      ɵngcc0.ɵɵelementEnd();\n      ɵngcc0.ɵɵprojection(2);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"multiple\", ctx.options.multiple);\n      ɵngcc0.ɵɵattribute(\"accept\", ctx.options.accept)(\"directory\", ctx.options.directory ? \"directory\" : null)(\"webkitdirectory\", ctx.options.directory ? \"webkitdirectory\" : null);\n    }\n  },\n  encapsulation: 2\n});\n/** @nocollapse */\n\nNzUploadBtnComponent.ctorParameters = function () {\n  return [{\n    type: HttpClient,\n    decorators: [{\n      type: Optional\n    }]\n  }];\n};\n\nNzUploadBtnComponent.propDecorators = {\n  file: [{\n    type: ViewChild,\n    args: ['file', {\n      static: false\n    }]\n  }],\n  options: [{\n    type: Input\n  }]\n};\n\nif (false) {\n  /** @type {?} */\n  NzUploadBtnComponent.prototype.reqs;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadBtnComponent.prototype.destroy;\n  /** @type {?} */\n\n  NzUploadBtnComponent.prototype.file;\n  /** @type {?} */\n\n  NzUploadBtnComponent.prototype.options;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadBtnComponent.prototype.http;\n}\n/**\n * @fileoverview added by tsickle\n * Generated from: upload-list.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/** @type {?} */\n\n\nvar isImageFileType =\n/**\n* @param {?} type\n* @return {?}\n*/\nfunction isImageFileType(type) {\n  return !!type && type.indexOf('image/') === 0;\n};\n\nvar ɵ0 = isImageFileType;\n/** @type {?} */\n\nvar MEASURE_SIZE = 200;\n/**\n * @record\n */\n\nfunction UploadListFile() {}\n\nif (false) {\n  /** @type {?|undefined} */\n  UploadListFile.prototype.isImageUrl;\n  /** @type {?|undefined} */\n\n  UploadListFile.prototype.isUploading;\n  /** @type {?|undefined} */\n\n  UploadListFile.prototype.iconType;\n  /** @type {?|undefined} */\n\n  UploadListFile.prototype.listItemNameCls;\n  /** @type {?|undefined} */\n\n  UploadListFile.prototype.showDownload;\n}\n\nvar NzUploadListComponent = /*#__PURE__*/function () {\n  // #endregion\n\n  /**\n   * @param {?} cdr\n   * @param {?} doc\n   * @param {?} ngZone\n   * @param {?} platform\n   */\n  function NzUploadListComponent(cdr, doc, ngZone, platform) {\n    _classCallCheck(this, NzUploadListComponent);\n\n    this.cdr = cdr;\n    this.doc = doc;\n    this.ngZone = ngZone;\n    this.platform = platform;\n    this.list = [];\n    this.locale = {};\n    this.iconRender = null;\n  }\n  /**\n   * @private\n   * @return {?}\n   */\n\n\n  _createClass(NzUploadListComponent, [{\n    key: \"showPic\",\n    get: function get() {\n      return this.listType === 'picture' || this.listType === 'picture-card';\n    }\n    /**\n     * @param {?} list\n     * @return {?}\n     */\n\n  }, {\n    key: \"items\",\n    set: function set(list) {\n      this.list = list;\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"genErr\",\n    value: function genErr(file) {\n      if (file.response && typeof file.response === 'string') {\n        return file.response;\n      }\n\n      return file.error && file.error.statusText || this.locale.uploadError;\n    }\n    /**\n     * @private\n     * @param {?} url\n     * @return {?}\n     */\n\n  }, {\n    key: \"extname\",\n    value: function extname(url) {\n      /** @type {?} */\n      var temp = url.split('/');\n      /** @type {?} */\n\n      var filename = temp[temp.length - 1];\n      /** @type {?} */\n\n      var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n      return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n    }\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"isImageUrl\",\n    value: function isImageUrl(file) {\n      if (isImageFileType(\n      /** @type {?} */\n      file.type)) {\n        return true;\n      }\n      /** @type {?} */\n\n\n      var url =\n      /** @type {?} */\n      file.thumbUrl || file.url || '';\n\n      if (!url) {\n        return false;\n      }\n      /** @type {?} */\n\n\n      var extension = this.extname(url);\n\n      if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(extension)) {\n        return true;\n      } else if (/^data:/.test(url)) {\n        // other file types of base64\n        return false;\n      } else if (extension) {\n        // other file types which have extension\n        return false;\n      }\n\n      return true;\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"getIconType\",\n    value: function getIconType(file) {\n      if (!this.showPic) {\n        return '';\n      }\n\n      if (file.isUploading || !file.thumbUrl && !file.url) {\n        return 'uploading';\n      } else {\n        return 'thumbnail';\n      }\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"previewImage\",\n    value: function previewImage(file) {\n      var _this8 = this;\n\n      return new Promise(\n      /**\n      * @param {?} resolve\n      * @return {?}\n      */\n      function (resolve) {\n        if (!isImageFileType(file.type)) {\n          resolve('');\n          return;\n        }\n\n        _this8.ngZone.runOutsideAngular(\n        /**\n        * @return {?}\n        */\n        function () {\n          /** @type {?} */\n          var canvas = _this8.doc.createElement('canvas');\n\n          canvas.width = MEASURE_SIZE;\n          canvas.height = MEASURE_SIZE;\n          canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n\n          _this8.doc.body.appendChild(canvas);\n          /** @type {?} */\n\n\n          var ctx = canvas.getContext('2d');\n          /** @type {?} */\n\n          var img = new Image();\n\n          img.onload =\n          /**\n          * @return {?}\n          */\n          function () {\n            var width = img.width,\n                height = img.height;\n            /** @type {?} */\n\n            var drawWidth = MEASURE_SIZE;\n            /** @type {?} */\n\n            var drawHeight = MEASURE_SIZE;\n            /** @type {?} */\n\n            var offsetX = 0;\n            /** @type {?} */\n\n            var offsetY = 0;\n\n            if (width < height) {\n              drawHeight = height * (MEASURE_SIZE / width);\n              offsetY = -(drawHeight - drawWidth) / 2;\n            } else {\n              drawWidth = width * (MEASURE_SIZE / height);\n              offsetX = -(drawWidth - drawHeight) / 2;\n            }\n\n            try {\n              /** @type {?} */\n              ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n            } catch (_a) {}\n            /** @type {?} */\n\n\n            var dataURL = canvas.toDataURL();\n\n            _this8.doc.body.removeChild(canvas);\n\n            resolve(dataURL);\n          };\n\n          img.src = window.URL.createObjectURL(file);\n        });\n      });\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n\n  }, {\n    key: \"genThumb\",\n    value: function genThumb() {\n      var _this9 = this;\n\n      if (!this.platform.isBrowser) {\n        return;\n      }\n      /** @type {?} */\n\n\n      var win =\n      /** @type {?} */\n      window;\n\n      if (!this.showPic || typeof document === 'undefined' || typeof win === 'undefined' || !win.FileReader || !win.File) {\n        return;\n      }\n\n      this.list.filter(\n      /**\n      * @param {?} file\n      * @return {?}\n      */\n      function (file) {\n        return file.originFileObj instanceof File && file.thumbUrl === undefined;\n      }).forEach(\n      /**\n      * @param {?} file\n      * @return {?}\n      */\n      function (file) {\n        file.thumbUrl = '';\n        (_this9.previewFile ? _this9.previewFile(file).toPromise() : _this9.previewImage(\n        /** @type {?} */\n        file.originFileObj)).then(\n        /**\n        * @param {?} dataUrl\n        * @return {?}\n        */\n        function (dataUrl) {\n          file.thumbUrl = dataUrl;\n\n          _this9.detectChanges();\n        });\n      });\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"listItemNameCls\",\n    value: function listItemNameCls(file) {\n      var _ref;\n\n      /** @type {?} */\n      var count = [this.showDownload(file), this.icons.showRemoveIcon].filter(\n      /**\n      * @param {?} x\n      * @return {?}\n      */\n      function (x) {\n        return x;\n      }).length;\n      return _ref = {}, _defineProperty(_ref, \"ant-upload-list-item-name\", true), _defineProperty(_ref, \"ant-upload-list-item-name-icon-count-\".concat(count), true), _ref;\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"showDownload\",\n    value: function showDownload(file) {\n      return !!(this.icons.showDownloadIcon && file.status === 'done');\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n\n  }, {\n    key: \"fixData\",\n    value: function fixData() {\n      var _this10 = this;\n\n      this.list.forEach(\n      /**\n      * @param {?} file\n      * @return {?}\n      */\n      function (file) {\n        file.isUploading = file.status === 'uploading';\n        file.message = _this10.genErr(file);\n        file.linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n        file.isImageUrl = _this10.previewIsImage ? _this10.previewIsImage(file) : _this10.isImageUrl(file);\n        file.iconType = _this10.getIconType(file);\n        file.listItemNameCls = _this10.listItemNameCls(file);\n        file.showDownload = _this10.showDownload(file);\n      });\n    }\n    /**\n     * @param {?} file\n     * @param {?} e\n     * @return {?}\n     */\n\n  }, {\n    key: \"handlePreview\",\n    value: function handlePreview(file, e) {\n      if (!this.onPreview) {\n        return;\n      }\n\n      e.preventDefault();\n      return this.onPreview(file);\n    }\n    /**\n     * @param {?} file\n     * @param {?} e\n     * @return {?}\n     */\n\n  }, {\n    key: \"handleRemove\",\n    value: function handleRemove(file, e) {\n      e.preventDefault();\n\n      if (this.onRemove) {\n        this.onRemove(file);\n      }\n\n      return;\n    }\n    /**\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"handleDownload\",\n    value: function handleDownload(file) {\n      if (typeof this.onDownload === 'function') {\n        this.onDownload(file);\n      } else if (file.url) {\n        window.open(file.url);\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"detectChanges\",\n    value: function detectChanges() {\n      this.fixData();\n      this.cdr.detectChanges();\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges() {\n      this.fixData();\n      this.genThumb();\n    }\n  }]);\n\n  return NzUploadListComponent;\n}();\n\nNzUploadListComponent.ɵfac = function NzUploadListComponent_Factory(t) {\n  return new (t || NzUploadListComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc2.Platform));\n};\n\nNzUploadListComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzUploadListComponent,\n  selectors: [[\"nz-upload-list\"]],\n  hostVars: 8,\n  hostBindings: function NzUploadListComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"ant-upload-list\", true)(\"ant-upload-list-text\", ctx.listType === \"text\")(\"ant-upload-list-picture\", ctx.listType === \"picture\")(\"ant-upload-list-picture-card\", ctx.listType === \"picture-card\");\n    }\n  },\n  inputs: {\n    locale: \"locale\",\n    iconRender: \"iconRender\",\n    items: \"items\",\n    listType: \"listType\",\n    icons: \"icons\",\n    onPreview: \"onPreview\",\n    onRemove: \"onRemove\",\n    onDownload: \"onDownload\",\n    previewFile: \"previewFile\",\n    previewIsImage: \"previewIsImage\"\n  },\n  exportAs: [\"nzUploadList\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[\"nz-tooltip\", \"\", 3, \"class\", \"nzTooltipTitle\", 4, \"ngFor\", \"ngForOf\"], [\"nz-tooltip\", \"\", 3, \"nzTooltipTitle\"], [\"icon\", \"\"], [\"iconNode\", \"\"], [\"downloadOrDelete\", \"\"], [\"preview\", \"\"], [\"removeIcon\", \"\"], [\"downloadIcon\", \"\"], [1, \"ant-upload-list-item-info\"], [3, \"ngTemplateOutlet\"], [\"class\", \"ant-upload-list-item-actions\", 4, \"ngIf\"], [\"class\", \"ant-upload-list-item-progress\", 4, \"ngIf\"], [3, \"ngSwitch\"], [\"class\", \"ant-upload-list-item-thumbnail\", 3, \"ant-upload-list-item-file\", 4, \"ngSwitchCase\"], [\"class\", \"ant-upload-list-item-thumbnail\", \"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"ant-upload-list-item-file\", \"href\", \"click\", 4, \"ngSwitchCase\"], [\"class\", \"ant-upload-text-icon\", 4, \"ngSwitchDefault\"], [\"noImageThumbTpl\", \"\"], [1, \"ant-upload-list-item-thumbnail\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 1, \"ant-upload-list-item-thumbnail\", 3, \"href\", \"click\"], [\"class\", \"ant-upload-list-item-image\", 3, \"src\", 4, \"ngIf\", \"ngIfElse\"], [1, \"ant-upload-list-item-image\", 3, \"src\"], [1, \"ant-upload-text-icon\"], [4, \"ngIf\", \"ngIfElse\"], [\"iconNodeFileIcon\", \"\"], [4, \"ngSwitchCase\"], [\"nz-icon\", \"\", 3, \"nzType\", 4, \"ngSwitchDefault\"], [\"nz-icon\", \"\", \"nzType\", \"loading\"], [\"nz-icon\", \"\", 3, \"nzType\"], [\"nz-icon\", \"\", \"nzTheme\", \"twotone\", 3, \"nzType\"], [3, \"class\", 4, \"ngIf\"], [3, \"title\", 4, \"ngIf\"], [3, \"title\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"ngClass\", \"href\", \"click\", 4, \"ngIf\"], [3, \"ngClass\", \"click\", 4, \"ngIf\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"ngClass\", \"href\", \"click\"], [3, \"ngClass\", \"click\"], [\"nz-icon\", \"\", \"nzType\", \"delete\", 3, \"title\", \"click\", 4, \"ngIf\"], [\"nz-icon\", \"\", \"nzType\", \"delete\", 3, \"title\", \"click\"], [\"nz-icon\", \"\", \"nzType\", \"download\", 3, \"title\", \"click\", 4, \"ngIf\"], [\"nz-icon\", \"\", \"nzType\", \"download\", 3, \"title\", \"click\"], [1, \"ant-upload-list-item-actions\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"href\", \"title\", \"ngStyle\", \"click\", 4, \"ngIf\"], [\"target\", \"_blank\", \"rel\", \"noopener noreferrer\", 3, \"href\", \"title\", \"ngStyle\", \"click\"], [\"nz-icon\", \"\", \"nzType\", \"eye\"], [1, \"ant-upload-list-item-progress\"], [\"nzType\", \"line\", 3, \"nzPercent\", \"nzShowInfo\", \"nzStrokeWidth\"]],\n  template: function NzUploadListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵtemplate(0, NzUploadListComponent_div_0_Template, 19, 11, \"div\", 0);\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.list);\n    }\n  },\n  directives: [ɵngcc3.NgForOf, ɵngcc4.NzTooltipDirective, ɵngcc3.NgTemplateOutlet, ɵngcc3.NgIf, ɵngcc3.NgSwitch, ɵngcc3.NgSwitchCase, ɵngcc3.NgSwitchDefault, ɵngcc5.NzIconDirective, ɵngcc3.NgClass, ɵngcc3.NgStyle, ɵngcc6.NzProgressComponent],\n  encapsulation: 2,\n  data: {\n    animation: [trigger('itemState', [transition(':enter', [style({\n      height: '0',\n      width: '0',\n      opacity: 0\n    }), animate(150, style({\n      height: '*',\n      width: '*',\n      opacity: 1\n    }))]), transition(':leave', [animate(150, style({\n      height: '0',\n      width: '0',\n      opacity: 0\n    }))])])]\n  },\n  changeDetection: 0\n});\n/** @nocollapse */\n\nNzUploadListComponent.ctorParameters = function () {\n  return [{\n    type: ChangeDetectorRef\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [DOCUMENT]\n    }]\n  }, {\n    type: NgZone\n  }, {\n    type: Platform\n  }];\n};\n\nNzUploadListComponent.propDecorators = {\n  locale: [{\n    type: Input\n  }],\n  listType: [{\n    type: Input\n  }],\n  items: [{\n    type: Input\n  }],\n  icons: [{\n    type: Input\n  }],\n  onPreview: [{\n    type: Input\n  }],\n  onRemove: [{\n    type: Input\n  }],\n  onDownload: [{\n    type: Input\n  }],\n  previewFile: [{\n    type: Input\n  }],\n  previewIsImage: [{\n    type: Input\n  }],\n  iconRender: [{\n    type: Input\n  }]\n};\n\nif (false) {\n  /** @type {?} */\n  NzUploadListComponent.prototype.list;\n  /** @type {?} */\n\n  NzUploadListComponent.prototype.locale;\n  /** @type {?} */\n\n  NzUploadListComponent.prototype.listType;\n  /** @type {?} */\n\n  NzUploadListComponent.prototype.icons;\n  /** @type {?} */\n\n  NzUploadListComponent.prototype.onPreview;\n  /** @type {?} */\n\n  NzUploadListComponent.prototype.onRemove;\n  /** @type {?} */\n\n  NzUploadListComponent.prototype.onDownload;\n  /** @type {?} */\n\n  NzUploadListComponent.prototype.previewFile;\n  /** @type {?} */\n\n  NzUploadListComponent.prototype.previewIsImage;\n  /** @type {?} */\n\n  NzUploadListComponent.prototype.iconRender;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadListComponent.prototype.cdr;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadListComponent.prototype.doc;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadListComponent.prototype.ngZone;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadListComponent.prototype.platform;\n}\n/**\n * @fileoverview added by tsickle\n * Generated from: upload.component.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nvar NzUploadComponent = /*#__PURE__*/function () {\n  // #endregion\n\n  /**\n   * @param {?} cdr\n   * @param {?} i18n\n   */\n  function NzUploadComponent(cdr, i18n) {\n    var _this11 = this;\n\n    _classCallCheck(this, NzUploadComponent);\n\n    this.cdr = cdr;\n    this.i18n = i18n; // #region fields\n\n    this.nzType = 'select';\n    this.nzLimit = 0;\n    this.nzSize = 0;\n    this.nzDirectory = false;\n    this.nzOpenFileDialogOnClick = true;\n    this.nzFilter = [];\n    this.nzFileList = [];\n    this.nzDisabled = false;\n    this.nzListType = 'text';\n    this.nzMultiple = false;\n    this.nzName = 'file';\n    this._showUploadList = true;\n    this.nzShowButton = true;\n    this.nzWithCredentials = false;\n    this.nzIconRender = null;\n    this.nzFileListRender = null;\n    this.nzChange = new EventEmitter();\n    this.nzFileListChange = new EventEmitter();\n\n    this.onStart =\n    /**\n    * @param {?} file\n    * @return {?}\n    */\n    function (file) {\n      if (!_this11.nzFileList) {\n        _this11.nzFileList = [];\n      }\n      /** @type {?} */\n\n\n      var targetItem = _this11.fileToObject(file);\n\n      targetItem.status = 'uploading';\n      _this11.nzFileList = _this11.nzFileList.concat(targetItem);\n\n      _this11.nzFileListChange.emit(_this11.nzFileList);\n\n      _this11.nzChange.emit({\n        file: targetItem,\n        fileList: _this11.nzFileList,\n        type: 'start'\n      });\n\n      _this11.detectChangesList();\n    };\n\n    this.onProgress =\n    /**\n    * @param {?} e\n    * @param {?} file\n    * @return {?}\n    */\n    function (e, file) {\n      /** @type {?} */\n      var fileList = _this11.nzFileList;\n      /** @type {?} */\n\n      var targetItem = _this11.getFileItem(file, fileList);\n\n      targetItem.percent = e.percent;\n\n      _this11.nzChange.emit({\n        event: e,\n        file: Object.assign({}, targetItem),\n        fileList: _this11.nzFileList,\n        type: 'progress'\n      });\n\n      _this11.detectChangesList();\n    };\n\n    this.onSuccess =\n    /**\n    * @param {?} res\n    * @param {?} file\n    * @return {?}\n    */\n    function (res, file) {\n      /** @type {?} */\n      var fileList = _this11.nzFileList;\n      /** @type {?} */\n\n      var targetItem = _this11.getFileItem(file, fileList);\n\n      targetItem.status = 'done';\n      targetItem.response = res;\n\n      _this11.nzChange.emit({\n        file: Object.assign({}, targetItem),\n        fileList: fileList,\n        type: 'success'\n      });\n\n      _this11.detectChangesList();\n    };\n\n    this.onError =\n    /**\n    * @param {?} err\n    * @param {?} file\n    * @return {?}\n    */\n    function (err, file) {\n      /** @type {?} */\n      var fileList = _this11.nzFileList;\n      /** @type {?} */\n\n      var targetItem = _this11.getFileItem(file, fileList);\n\n      targetItem.error = err;\n      targetItem.status = 'error';\n\n      _this11.nzChange.emit({\n        file: Object.assign({}, targetItem),\n        fileList: fileList,\n        type: 'error'\n      });\n\n      _this11.detectChangesList();\n    };\n\n    this.onRemove =\n    /**\n    * @param {?} file\n    * @return {?}\n    */\n    function (file) {\n      _this11.uploadComp.abort(file);\n\n      file.status = 'removed';\n      /** @type {?} */\n\n      var fnRes = typeof _this11.nzRemove === 'function' ? _this11.nzRemove(file) : _this11.nzRemove == null ? true : _this11.nzRemove;\n      (fnRes instanceof Observable ? fnRes : of(fnRes)).pipe(filter(\n      /**\n      * @param {?} res\n      * @return {?}\n      */\n      function (res) {\n        return res;\n      })).subscribe(\n      /**\n      * @return {?}\n      */\n      function () {\n        _this11.nzFileList = _this11.removeFileItem(file, _this11.nzFileList);\n\n        _this11.nzChange.emit({\n          file: file,\n          fileList: _this11.nzFileList,\n          type: 'removed'\n        });\n\n        _this11.nzFileListChange.emit(_this11.nzFileList);\n\n        _this11.cdr.detectChanges();\n      });\n    }; // #endregion\n    // #region styles\n\n\n    this.prefixCls = 'ant-upload';\n    this.classList = [];\n  }\n  /**\n   * @param {?} value\n   * @return {?}\n   */\n\n\n  _createClass(NzUploadComponent, [{\n    key: \"nzShowUploadList\",\n    get:\n    /**\n     * @return {?}\n     */\n    function get() {\n      return this._showUploadList;\n    }\n    /**\n     * @private\n     * @template THIS\n     * @this {THIS}\n     * @return {THIS}\n     */\n    ,\n    set: function set(value) {\n      this._showUploadList = typeof value === 'boolean' ? toBoolean(value) : value;\n    }\n  }, {\n    key: \"zipOptions\",\n    value: function zipOptions() {\n      var _this12 = this;\n\n      if (typeof\n      /** @type {?} */\n      this.nzShowUploadList === 'boolean' &&\n      /** @type {?} */\n      this.nzShowUploadList) {\n        /** @type {?} */\n        this.nzShowUploadList = {\n          showPreviewIcon: true,\n          showRemoveIcon: true,\n          showDownloadIcon: true\n        };\n      } // filters\n\n      /** @type {?} */\n\n\n      var filters =\n      /** @type {?} */\n      this.nzFilter.slice();\n\n      if (\n      /** @type {?} */\n      this.nzMultiple &&\n      /** @type {?} */\n      this.nzLimit > 0 && filters.findIndex(\n      /**\n      * @param {?} w\n      * @return {?}\n      */\n      function (w) {\n        return w.name === 'limit';\n      }) === -1) {\n        filters.push({\n          name: 'limit',\n          fn:\n          /**\n          * @param {?} fileList\n          * @return {?}\n          */\n          function fn(fileList) {\n            return fileList.slice(-\n            /** @type {?} */\n            _this12.nzLimit);\n          }\n        });\n      }\n\n      if (\n      /** @type {?} */\n      this.nzSize > 0 && filters.findIndex(\n      /**\n      * @param {?} w\n      * @return {?}\n      */\n      function (w) {\n        return w.name === 'size';\n      }) === -1) {\n        filters.push({\n          name: 'size',\n          fn:\n          /**\n          * @param {?} fileList\n          * @return {?}\n          */\n          function fn(fileList) {\n            return fileList.filter(\n            /**\n            * @param {?} w\n            * @return {?}\n            */\n            function (w) {\n              return (\n                /** @type {?} */\n                w.size / 1024 <=\n                /** @type {?} */\n                _this12.nzSize\n              );\n            });\n          }\n        });\n      }\n\n      if (\n      /** @type {?} */\n      this.nzFileType &&\n      /** @type {?} */\n      this.nzFileType.length > 0 && filters.findIndex(\n      /**\n      * @param {?} w\n      * @return {?}\n      */\n      function (w) {\n        return w.name === 'type';\n      }) === -1) {\n        /** @type {?} */\n        var types =\n        /** @type {?} */\n        this.nzFileType.split(',');\n        filters.push({\n          name: 'type',\n          fn:\n          /**\n          * @param {?} fileList\n          * @return {?}\n          */\n          function fn(fileList) {\n            return fileList.filter(\n            /**\n            * @param {?} w\n            * @return {?}\n            */\n            function (w) {\n              return ~types.indexOf(\n              /** @type {?} */\n              w.type);\n            });\n          }\n        });\n      }\n\n      /** @type {?} */\n      this._btnOptions = {\n        disabled:\n        /** @type {?} */\n        this.nzDisabled,\n        accept:\n        /** @type {?} */\n        this.nzAccept,\n        action:\n        /** @type {?} */\n        this.nzAction,\n        directory:\n        /** @type {?} */\n        this.nzDirectory,\n        openFileDialogOnClick:\n        /** @type {?} */\n        this.nzOpenFileDialogOnClick,\n        beforeUpload:\n        /** @type {?} */\n        this.nzBeforeUpload,\n        customRequest:\n        /** @type {?} */\n        this.nzCustomRequest,\n        data:\n        /** @type {?} */\n        this.nzData,\n        headers:\n        /** @type {?} */\n        this.nzHeaders,\n        name:\n        /** @type {?} */\n        this.nzName,\n        multiple:\n        /** @type {?} */\n        this.nzMultiple,\n        withCredentials:\n        /** @type {?} */\n        this.nzWithCredentials,\n        filters: filters,\n        transformFile:\n        /** @type {?} */\n        this.nzTransformFile,\n        onStart:\n        /** @type {?} */\n        this.onStart,\n        onProgress:\n        /** @type {?} */\n        this.onProgress,\n        onSuccess:\n        /** @type {?} */\n        this.onSuccess,\n        onError:\n        /** @type {?} */\n        this.onError\n      };\n      return (\n        /** @type {?} */\n        this\n      );\n    } // #region upload\n\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n\n  }, {\n    key: \"fileToObject\",\n    value: function fileToObject(file) {\n      return {\n        lastModified: file.lastModified,\n        lastModifiedDate: file.lastModifiedDate,\n        name: file.filename || file.name,\n        size: file.size,\n        type: file.type,\n        uid: file.uid,\n        response: file.response,\n        error: file.error,\n        percent: 0,\n        originFileObj:\n        /** @type {?} */\n        file\n      };\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @param {?} fileList\n     * @return {?}\n     */\n\n  }, {\n    key: \"getFileItem\",\n    value: function getFileItem(file, fileList) {\n      return fileList.filter(\n      /**\n      * @param {?} item\n      * @return {?}\n      */\n      function (item) {\n        return item.uid === file.uid;\n      })[0];\n    }\n    /**\n     * @private\n     * @param {?} file\n     * @param {?} fileList\n     * @return {?}\n     */\n\n  }, {\n    key: \"removeFileItem\",\n    value: function removeFileItem(file, fileList) {\n      return fileList.filter(\n      /**\n      * @param {?} item\n      * @return {?}\n      */\n      function (item) {\n        return item.uid !== file.uid;\n      });\n    } // skip safari bug\n\n    /**\n     * @param {?} e\n     * @return {?}\n     */\n\n  }, {\n    key: \"fileDrop\",\n    value: function fileDrop(e) {\n      if (e.type === this.dragState) {\n        return;\n      }\n\n      this.dragState = e.type;\n      this.setClassMap();\n    } // #endregion\n    // #region list\n\n    /**\n     * @private\n     * @return {?}\n     */\n\n  }, {\n    key: \"detectChangesList\",\n    value: function detectChangesList() {\n      var _a;\n\n      this.cdr.detectChanges();\n      (_a = this.listComp) === null || _a === void 0 ? void 0 : _a.detectChanges();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n\n  }, {\n    key: \"setClassMap\",\n    value: function setClassMap() {\n      /** @type {?} */\n      var subCls = [];\n\n      if (this.nzType === 'drag') {\n        if (this.nzFileList.some(\n        /**\n        * @param {?} file\n        * @return {?}\n        */\n        function (file) {\n          return file.status === 'uploading';\n        })) {\n          subCls.push(\"\".concat(this.prefixCls, \"-drag-uploading\"));\n        }\n\n        if (this.dragState === 'dragover') {\n          subCls.push(\"\".concat(this.prefixCls, \"-drag-hover\"));\n        }\n      } else {\n        subCls = [\"\".concat(this.prefixCls, \"-select-\").concat(this.nzListType)];\n      }\n\n      this.classList = [this.prefixCls, \"\".concat(this.prefixCls, \"-\").concat(this.nzType)].concat(_toConsumableArray(subCls), [this.nzDisabled && \"\".concat(this.prefixCls, \"-disabled\") || '']).filter(\n      /**\n      * @param {?} item\n      * @return {?}\n      */\n      function (item) {\n        return !!item;\n      });\n      this.cdr.detectChanges();\n    } // #endregion\n\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this13 = this;\n\n      this.i18n$ = this.i18n.localeChange.subscribe(\n      /**\n      * @return {?}\n      */\n      function () {\n        _this13.locale = _this13.i18n.getLocaleData('Upload');\n\n        _this13.detectChangesList();\n      });\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges() {\n      this.zipOptions().setClassMap();\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.i18n$.unsubscribe();\n    }\n  }]);\n\n  return NzUploadComponent;\n}();\n\nNzUploadComponent.ɵfac = function NzUploadComponent_Factory(t) {\n  return new (t || NzUploadComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc7.NzI18nService));\n};\n\nNzUploadComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({\n  type: NzUploadComponent,\n  selectors: [[\"nz-upload\"]],\n  viewQuery: function NzUploadComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c5, true);\n      ɵngcc0.ɵɵviewQuery(_c6, true);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.uploadComp = _t.first);\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.listComp = _t.first);\n    }\n  },\n  hostVars: 2,\n  hostBindings: function NzUploadComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      ɵngcc0.ɵɵclassProp(\"ant-upload-picture-card-wrapper\", ctx.nzListType === \"picture-card\");\n    }\n  },\n  inputs: {\n    nzType: \"nzType\",\n    nzLimit: \"nzLimit\",\n    nzSize: \"nzSize\",\n    nzDirectory: \"nzDirectory\",\n    nzOpenFileDialogOnClick: \"nzOpenFileDialogOnClick\",\n    nzFilter: \"nzFilter\",\n    nzFileList: \"nzFileList\",\n    nzDisabled: \"nzDisabled\",\n    nzListType: \"nzListType\",\n    nzMultiple: \"nzMultiple\",\n    nzName: \"nzName\",\n    nzShowButton: \"nzShowButton\",\n    nzWithCredentials: \"nzWithCredentials\",\n    nzIconRender: \"nzIconRender\",\n    nzFileListRender: \"nzFileListRender\",\n    nzShowUploadList: \"nzShowUploadList\",\n    nzFileType: \"nzFileType\",\n    nzAccept: \"nzAccept\",\n    nzAction: \"nzAction\",\n    nzBeforeUpload: \"nzBeforeUpload\",\n    nzCustomRequest: \"nzCustomRequest\",\n    nzData: \"nzData\",\n    nzHeaders: \"nzHeaders\",\n    nzRemove: \"nzRemove\",\n    nzPreview: \"nzPreview\",\n    nzPreviewFile: \"nzPreviewFile\",\n    nzPreviewIsImage: \"nzPreviewIsImage\",\n    nzTransformFile: \"nzTransformFile\",\n    nzDownload: \"nzDownload\"\n  },\n  outputs: {\n    nzChange: \"nzChange\",\n    nzFileListChange: \"nzFileListChange\"\n  },\n  exportAs: [\"nzUpload\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c2,\n  decls: 11,\n  vars: 2,\n  consts: [[\"list\", \"\"], [\"con\", \"\"], [\"btn\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"select\", \"\"], [\"pic\", \"\"], [3, \"display\", \"locale\", \"listType\", \"items\", \"icons\", \"iconRender\", \"previewFile\", \"previewIsImage\", \"onPreview\", \"onRemove\", \"onDownload\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"locale\", \"listType\", \"items\", \"icons\", \"iconRender\", \"previewFile\", \"previewIsImage\", \"onPreview\", \"onRemove\", \"onDownload\"], [\"listComp\", \"\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [3, \"ngClass\"], [\"nz-upload-btn\", \"\", 3, \"options\"], [\"uploadComp\", \"\"], [3, \"ngTemplateOutlet\"], [3, \"ngClass\", \"drop\", \"dragover\", \"dragleave\"], [\"nz-upload-btn\", \"\", 1, \"ant-upload-btn\", 3, \"options\"], [1, \"ant-upload-drag-container\"]],\n  template: function NzUploadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef();\n      ɵngcc0.ɵɵtemplate(0, NzUploadComponent_ng_template_0_Template, 2, 2, \"ng-template\", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵtemplate(2, NzUploadComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 1, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵtemplate(4, NzUploadComponent_ng_template_4_Template, 4, 5, \"ng-template\", null, 2, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵtemplate(6, NzUploadComponent_ng_container_6_Template, 7, 4, \"ng-container\", 3);\n      ɵngcc0.ɵɵtemplate(7, NzUploadComponent_ng_template_7_Template, 1, 2, \"ng-template\", null, 4, ɵngcc0.ɵɵtemplateRefExtractor);\n      ɵngcc0.ɵɵtemplate(9, NzUploadComponent_ng_template_9_Template, 2, 2, \"ng-template\", null, 5, ɵngcc0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      var _r7 = ɵngcc0.ɵɵreference(8);\n\n      ɵngcc0.ɵɵadvance(6);\n      ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nzType === \"drag\")(\"ngIfElse\", _r7);\n    }\n  },\n  directives: [ɵngcc3.NgIf, NzUploadListComponent, ɵngcc3.NgTemplateOutlet, ɵngcc3.NgClass, NzUploadBtnComponent],\n  encapsulation: 2,\n  changeDetection: 0\n});\n/** @nocollapse */\n\nNzUploadComponent.ctorParameters = function () {\n  return [{\n    type: ChangeDetectorRef\n  }, {\n    type: NzI18nService\n  }];\n};\n\nNzUploadComponent.propDecorators = {\n  uploadComp: [{\n    type: ViewChild,\n    args: ['uploadComp', {\n      static: false\n    }]\n  }],\n  listComp: [{\n    type: ViewChild,\n    args: ['listComp', {\n      static: false\n    }]\n  }],\n  nzType: [{\n    type: Input\n  }],\n  nzLimit: [{\n    type: Input\n  }],\n  nzSize: [{\n    type: Input\n  }],\n  nzFileType: [{\n    type: Input\n  }],\n  nzAccept: [{\n    type: Input\n  }],\n  nzAction: [{\n    type: Input\n  }],\n  nzDirectory: [{\n    type: Input\n  }],\n  nzOpenFileDialogOnClick: [{\n    type: Input\n  }],\n  nzBeforeUpload: [{\n    type: Input\n  }],\n  nzCustomRequest: [{\n    type: Input\n  }],\n  nzData: [{\n    type: Input\n  }],\n  nzFilter: [{\n    type: Input\n  }],\n  nzFileList: [{\n    type: Input\n  }],\n  nzDisabled: [{\n    type: Input\n  }],\n  nzHeaders: [{\n    type: Input\n  }],\n  nzListType: [{\n    type: Input\n  }],\n  nzMultiple: [{\n    type: Input\n  }],\n  nzName: [{\n    type: Input\n  }],\n  nzShowUploadList: [{\n    type: Input\n  }],\n  nzShowButton: [{\n    type: Input\n  }],\n  nzWithCredentials: [{\n    type: Input\n  }],\n  nzRemove: [{\n    type: Input\n  }],\n  nzPreview: [{\n    type: Input\n  }],\n  nzPreviewFile: [{\n    type: Input\n  }],\n  nzPreviewIsImage: [{\n    type: Input\n  }],\n  nzTransformFile: [{\n    type: Input\n  }],\n  nzDownload: [{\n    type: Input\n  }],\n  nzIconRender: [{\n    type: Input\n  }],\n  nzFileListRender: [{\n    type: Input\n  }],\n  nzChange: [{\n    type: Output\n  }],\n  nzFileListChange: [{\n    type: Output\n  }]\n};\n\n__decorate([InputNumber(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzLimit\", void 0);\n\n__decorate([InputNumber(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzSize\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzDirectory\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzOpenFileDialogOnClick\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzDisabled\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzMultiple\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzShowButton\", void 0);\n\n__decorate([InputBoolean(), __metadata(\"design:type\", Object)], NzUploadComponent.prototype, \"nzWithCredentials\", void 0);\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzUploadBtnComponent, [{\n    type: Component,\n    args: [{\n      selector: '[nz-upload-btn]',\n      exportAs: 'nzUploadBtn',\n      template: \"<input\\n  type=\\\"file\\\"\\n  #file\\n  (change)=\\\"onChange($event)\\\"\\n  [attr.accept]=\\\"options.accept\\\"\\n  [attr.directory]=\\\"options.directory ? 'directory' : null\\\"\\n  [attr.webkitdirectory]=\\\"options.directory ? 'webkitdirectory' : null\\\"\\n  [multiple]=\\\"options.multiple\\\"\\n  style=\\\"display: none;\\\"\\n/>\\n<ng-content></ng-content>\\n\",\n      host: {\n        '[attr.tabindex]': '\"0\"',\n        '[attr.role]': '\"button\"',\n        '[class.ant-upload]': 'true',\n        '[class.ant-upload-disabled]': 'options.disabled',\n        '(click)': 'onClick()',\n        '(keydown)': 'onKeyDown($event)',\n        '(drop)': 'onFileDrop($event)',\n        '(dragover)': 'onFileDrop($event)'\n      },\n      preserveWhitespaces: false,\n      encapsulation: ViewEncapsulation.None\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc1.HttpClient,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, {\n    file: [{\n      type: ViewChild,\n      args: ['file', {\n        static: false\n      }]\n    }],\n    options: [{\n      type: Input\n    }]\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzUploadListComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-upload-list',\n      exportAs: 'nzUploadList',\n      template: \"<div\\n  *ngFor=\\\"let file of list\\\"\\n  class=\\\"ant-upload-list-item ant-upload-list-item-{{\\n    file.status\\n  }} ant-upload-list-item-list-type-{{ listType }}\\\"\\n  [attr.data-key]=\\\"file.key\\\"\\n  @itemState\\n  nz-tooltip\\n  [nzTooltipTitle]=\\\"file.status === 'error' ? file.message : null\\\"\\n>\\n  <ng-template #icon>\\n    <ng-container [ngSwitch]=\\\"file.iconType\\\">\\n      <div\\n        *ngSwitchCase=\\\"'uploading'\\\"\\n        class=\\\"ant-upload-list-item-thumbnail\\\"\\n        [class.ant-upload-list-item-file]=\\\"!file.isUploading\\\"\\n      >\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"iconNode\\\"\\n          [ngTemplateOutletContext]=\\\"{ $implicit: file }\\\"\\n        ></ng-template>\\n      </div>\\n      <a\\n        *ngSwitchCase=\\\"'thumbnail'\\\"\\n        class=\\\"ant-upload-list-item-thumbnail\\\"\\n        [class.ant-upload-list-item-file]=\\\"!file.isImageUrl\\\"\\n        target=\\\"_blank\\\"\\n        rel=\\\"noopener noreferrer\\\"\\n        [href]=\\\"file.url || file.thumbUrl\\\"\\n        (click)=\\\"handlePreview(file, $event)\\\"\\n      >\\n        <img\\n          *ngIf=\\\"file.isImageUrl; else noImageThumbTpl\\\"\\n          class=\\\"ant-upload-list-item-image\\\"\\n          [src]=\\\"file.thumbUrl || file.url\\\"\\n          [attr.alt]=\\\"file.name\\\"\\n        />\\n      </a>\\n      <span *ngSwitchDefault class=\\\"ant-upload-text-icon\\\">\\n        <ng-template\\n          [ngTemplateOutlet]=\\\"iconNode\\\"\\n          [ngTemplateOutletContext]=\\\"{ $implicit: file }\\\"\\n        ></ng-template>\\n      </span>\\n    </ng-container>\\n    <ng-template #noImageThumbTpl>\\n      <ng-template\\n        [ngTemplateOutlet]=\\\"iconNode\\\"\\n        [ngTemplateOutletContext]=\\\"{ $implicit: file }\\\"\\n      ></ng-template>\\n    </ng-template>\\n  </ng-template>\\n  <ng-template #iconNode let-file>\\n    <ng-container *ngIf=\\\"!iconRender; else iconRender\\\">\\n      <ng-container [ngSwitch]=\\\"listType\\\">\\n        <ng-container *ngSwitchCase=\\\"'picture'\\\">\\n          <ng-container *ngIf=\\\"file.isUploading; else iconNodeFileIcon\\\">\\n            <i nz-icon nzType=\\\"loading\\\"></i>\\n          </ng-container>\\n        </ng-container>\\n        <ng-container *ngSwitchCase=\\\"'picture-card'\\\">\\n          <ng-container *ngIf=\\\"file.isUploading; else iconNodeFileIcon\\\">{{\\n            locale.uploading\\n          }}</ng-container>\\n        </ng-container>\\n        <i *ngSwitchDefault nz-icon [nzType]=\\\"file.isUploading ? 'loading' : 'paper-clip'\\\"></i>\\n      </ng-container>\\n    </ng-container>\\n    <ng-template #iconNodeFileIcon>\\n      <i nz-icon [nzType]=\\\"file.isImageUrl ? 'picture' : 'file'\\\" nzTheme=\\\"twotone\\\"></i>\\n    </ng-template>\\n  </ng-template>\\n  <ng-template #downloadOrDelete>\\n    <span\\n      *ngIf=\\\"listType !== 'picture-card'\\\"\\n      class=\\\"ant-upload-list-item-card-actions {{ listType === 'picture' ? 'picture' : '' }}\\\"\\n    >\\n      <a *ngIf=\\\"file.showDownload\\\" title=\\\"{{ locale.downloadFile }}\\\">\\n        <ng-template [ngTemplateOutlet]=\\\"downloadIcon\\\"></ng-template>\\n      </a>\\n      <a *ngIf=\\\"icons.showRemoveIcon\\\" title=\\\"{{ locale.removeFile }}\\\">\\n        <ng-template [ngTemplateOutlet]=\\\"removeIcon\\\"></ng-template>\\n      </a>\\n    </span>\\n  </ng-template>\\n  <ng-template #preview>\\n    <a\\n      *ngIf=\\\"file.url\\\"\\n      target=\\\"_blank\\\"\\n      rel=\\\"noopener noreferrer\\\"\\n      [ngClass]=\\\"file.listItemNameCls!\\\"\\n      [attr.title]=\\\"file.name\\\"\\n      [href]=\\\"file.url\\\"\\n      [attr.download]=\\\"file.linkProps && file.linkProps.download\\\"\\n      (click)=\\\"handlePreview(file, $event)\\\"\\n      >{{ file.name }}</a\\n    >\\n    <span\\n      *ngIf=\\\"!file.url\\\"\\n      [ngClass]=\\\"file.listItemNameCls!\\\"\\n      [attr.title]=\\\"file.name\\\"\\n      (click)=\\\"handlePreview(file, $event)\\\"\\n      >{{ file.name }}</span\\n    >\\n    <ng-template [ngTemplateOutlet]=\\\"downloadOrDelete\\\"></ng-template>\\n  </ng-template>\\n  <ng-template #removeIcon>\\n    <i\\n      *ngIf=\\\"icons.showRemoveIcon\\\"\\n      (click)=\\\"handleRemove(file, $event)\\\"\\n      nz-icon\\n      nzType=\\\"delete\\\"\\n      title=\\\"{{ locale.removeFile }}\\\"\\n    ></i>\\n  </ng-template>\\n  <ng-template #downloadIcon>\\n    <i\\n      *ngIf=\\\"file.showDownload\\\"\\n      (click)=\\\"handleDownload(file)\\\"\\n      nz-icon\\n      nzType=\\\"download\\\"\\n      title=\\\"{{ locale.downloadFile }}\\\"\\n    ></i>\\n  </ng-template>\\n  <div class=\\\"ant-upload-list-item-info\\\">\\n    <span>\\n      <ng-template [ngTemplateOutlet]=\\\"icon\\\"></ng-template>\\n      <ng-template [ngTemplateOutlet]=\\\"preview\\\"></ng-template>\\n    </span>\\n  </div>\\n  <span\\n    *ngIf=\\\"listType === 'picture-card' && !file.isUploading\\\"\\n    class=\\\"ant-upload-list-item-actions\\\"\\n  >\\n    <a\\n      *ngIf=\\\"icons.showPreviewIcon\\\"\\n      [href]=\\\"file.url || file.thumbUrl\\\"\\n      target=\\\"_blank\\\"\\n      rel=\\\"noopener noreferrer\\\"\\n      title=\\\"{{ locale.previewFile }}\\\"\\n      [ngStyle]=\\\"!(file.url || file.thumbUrl) ? { opacity: 0.5, 'pointer-events': 'none' } : null\\\"\\n      (click)=\\\"handlePreview(file, $event)\\\"\\n    >\\n      <i nz-icon nzType=\\\"eye\\\"></i>\\n    </a>\\n    <ng-template [ngTemplateOutlet]=\\\"downloadIcon\\\"></ng-template>\\n    <ng-template [ngTemplateOutlet]=\\\"removeIcon\\\"></ng-template>\\n  </span>\\n  <div *ngIf=\\\"file.isUploading\\\" class=\\\"ant-upload-list-item-progress\\\">\\n    <nz-progress\\n      [nzPercent]=\\\"file.percent!\\\"\\n      nzType=\\\"line\\\"\\n      [nzShowInfo]=\\\"false\\\"\\n      [nzStrokeWidth]=\\\"2\\\"\\n    ></nz-progress>\\n  </div>\\n</div>\\n\",\n      animations: [trigger('itemState', [transition(':enter', [style({\n        height: '0',\n        width: '0',\n        opacity: 0\n      }), animate(150, style({\n        height: '*',\n        width: '*',\n        opacity: 1\n      }))]), transition(':leave', [animate(150, style({\n        height: '0',\n        width: '0',\n        opacity: 0\n      }))])])],\n      host: {\n        '[class.ant-upload-list]': \"true\",\n        '[class.ant-upload-list-text]': \"listType === 'text'\",\n        '[class.ant-upload-list-picture]': \"listType === 'picture'\",\n        '[class.ant-upload-list-picture-card]': \"listType === 'picture-card'\"\n      },\n      preserveWhitespaces: false,\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [DOCUMENT]\n      }]\n    }, {\n      type: ɵngcc0.NgZone\n    }, {\n      type: ɵngcc2.Platform\n    }];\n  }, {\n    locale: [{\n      type: Input\n    }],\n    iconRender: [{\n      type: Input\n    }],\n    items: [{\n      type: Input\n    }],\n    listType: [{\n      type: Input\n    }],\n    icons: [{\n      type: Input\n    }],\n    onPreview: [{\n      type: Input\n    }],\n    onRemove: [{\n      type: Input\n    }],\n    onDownload: [{\n      type: Input\n    }],\n    previewFile: [{\n      type: Input\n    }],\n    previewIsImage: [{\n      type: Input\n    }]\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzUploadComponent, [{\n    type: Component,\n    args: [{\n      selector: 'nz-upload',\n      exportAs: 'nzUpload',\n      template: \"<ng-template #list>\\n  <nz-upload-list\\n    *ngIf=\\\"locale && !nzFileListRender\\\"\\n    #listComp\\n    [style.display]=\\\"nzShowUploadList ? '' : 'none'\\\"\\n    [locale]=\\\"locale\\\"\\n    [listType]=\\\"nzListType\\\"\\n    [items]=\\\"nzFileList || []\\\"\\n    [icons]=\\\"$any(nzShowUploadList)\\\"\\n    [iconRender]=\\\"nzIconRender\\\"\\n    [previewFile]=\\\"nzPreviewFile\\\"\\n    [previewIsImage]=\\\"nzPreviewIsImage\\\"\\n    [onPreview]=\\\"nzPreview\\\"\\n    [onRemove]=\\\"onRemove\\\"\\n    [onDownload]=\\\"nzDownload\\\"\\n  ></nz-upload-list>\\n  <ng-container *ngIf=\\\"nzFileListRender\\\">\\n    <ng-container\\n      *ngTemplateOutlet=\\\"nzFileListRender; context: { $implicit: nzFileList }\\\"\\n    ></ng-container>\\n  </ng-container>\\n</ng-template>\\n<ng-template #con><ng-content></ng-content></ng-template>\\n<ng-template #btn>\\n  <div [ngClass]=\\\"classList\\\" [style.display]=\\\"nzShowButton ? '' : 'none'\\\">\\n    <div nz-upload-btn #uploadComp [options]=\\\"_btnOptions!\\\">\\n      <ng-template [ngTemplateOutlet]=\\\"con\\\"></ng-template>\\n    </div>\\n  </div>\\n</ng-template>\\n<ng-container *ngIf=\\\"nzType === 'drag'; else select\\\">\\n  <div\\n    [ngClass]=\\\"classList\\\"\\n    (drop)=\\\"fileDrop($event)\\\"\\n    (dragover)=\\\"fileDrop($event)\\\"\\n    (dragleave)=\\\"fileDrop($event)\\\"\\n  >\\n    <div nz-upload-btn #uploadComp [options]=\\\"_btnOptions!\\\" class=\\\"ant-upload-btn\\\">\\n      <div class=\\\"ant-upload-drag-container\\\">\\n        <ng-template [ngTemplateOutlet]=\\\"con\\\"></ng-template>\\n      </div>\\n    </div>\\n  </div>\\n  <ng-template [ngTemplateOutlet]=\\\"list\\\"></ng-template>\\n</ng-container>\\n<ng-template #select>\\n  <ng-container *ngIf=\\\"nzListType === 'picture-card'; else pic\\\">\\n    <ng-template [ngTemplateOutlet]=\\\"list\\\"></ng-template>\\n    <ng-template [ngTemplateOutlet]=\\\"btn\\\"></ng-template>\\n  </ng-container>\\n</ng-template>\\n<ng-template #pic>\\n  <ng-template [ngTemplateOutlet]=\\\"btn\\\"></ng-template>\\n  <ng-template [ngTemplateOutlet]=\\\"list\\\"></ng-template>\\n</ng-template>\\n\",\n      preserveWhitespaces: false,\n      encapsulation: ViewEncapsulation.None,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      host: {\n        '[class.ant-upload-picture-card-wrapper]': 'nzListType === \"picture-card\"'\n      }\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ChangeDetectorRef\n    }, {\n      type: ɵngcc7.NzI18nService\n    }];\n  }, {\n    nzType: [{\n      type: Input\n    }],\n    nzLimit: [{\n      type: Input\n    }],\n    nzSize: [{\n      type: Input\n    }],\n    nzDirectory: [{\n      type: Input\n    }],\n    nzOpenFileDialogOnClick: [{\n      type: Input\n    }],\n    nzFilter: [{\n      type: Input\n    }],\n    nzFileList: [{\n      type: Input\n    }],\n    nzDisabled: [{\n      type: Input\n    }],\n    nzListType: [{\n      type: Input\n    }],\n    nzMultiple: [{\n      type: Input\n    }],\n    nzName: [{\n      type: Input\n    }],\n    nzShowButton: [{\n      type: Input\n    }],\n    nzWithCredentials: [{\n      type: Input\n    }],\n    nzIconRender: [{\n      type: Input\n    }],\n    nzFileListRender: [{\n      type: Input\n    }],\n    nzChange: [{\n      type: Output\n    }],\n    nzFileListChange: [{\n      type: Output\n    }],\n    nzShowUploadList: [{\n      type: Input\n    }],\n    uploadComp: [{\n      type: ViewChild,\n      args: ['uploadComp', {\n        static: false\n      }]\n    }],\n    listComp: [{\n      type: ViewChild,\n      args: ['listComp', {\n        static: false\n      }]\n    }],\n    nzFileType: [{\n      type: Input\n    }],\n    nzAccept: [{\n      type: Input\n    }],\n    nzAction: [{\n      type: Input\n    }],\n    nzBeforeUpload: [{\n      type: Input\n    }],\n    nzCustomRequest: [{\n      type: Input\n    }],\n    nzData: [{\n      type: Input\n    }],\n    nzHeaders: [{\n      type: Input\n    }],\n    nzRemove: [{\n      type: Input\n    }],\n    nzPreview: [{\n      type: Input\n    }],\n    nzPreviewFile: [{\n      type: Input\n    }],\n    nzPreviewIsImage: [{\n      type: Input\n    }],\n    nzTransformFile: [{\n      type: Input\n    }],\n    nzDownload: [{\n      type: Input\n    }]\n  });\n})();\n\nif (false) {\n  /** @type {?} */\n  NzUploadComponent.ngAcceptInputType_nzLimit;\n  /** @type {?} */\n\n  NzUploadComponent.ngAcceptInputType_nzSize;\n  /** @type {?} */\n\n  NzUploadComponent.ngAcceptInputType_nzDirectory;\n  /** @type {?} */\n\n  NzUploadComponent.ngAcceptInputType_nzOpenFileDialogOnClick;\n  /** @type {?} */\n\n  NzUploadComponent.ngAcceptInputType_nzDisabled;\n  /** @type {?} */\n\n  NzUploadComponent.ngAcceptInputType_nzMultiple;\n  /** @type {?} */\n\n  NzUploadComponent.ngAcceptInputType_nzShowUploadList;\n  /** @type {?} */\n\n  NzUploadComponent.ngAcceptInputType_nzShowButton;\n  /** @type {?} */\n\n  NzUploadComponent.ngAcceptInputType_nzWithCredentials;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadComponent.prototype.i18n$;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.uploadComp;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.listComp;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.locale;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzType;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzLimit;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzSize;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzFileType;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzAccept;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzAction;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzDirectory;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzOpenFileDialogOnClick;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzBeforeUpload;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzCustomRequest;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzData;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzFilter;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzFileList;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzDisabled;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzHeaders;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzListType;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzMultiple;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzName;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadComponent.prototype._showUploadList;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzShowButton;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzWithCredentials;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzRemove;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzPreview;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzPreviewFile;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzPreviewIsImage;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzTransformFile;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzDownload;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzIconRender;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzFileListRender;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzChange;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.nzFileListChange;\n  /** @type {?} */\n\n  NzUploadComponent.prototype._btnOptions;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadComponent.prototype.onStart;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadComponent.prototype.onProgress;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadComponent.prototype.onSuccess;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadComponent.prototype.onError;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadComponent.prototype.dragState;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.onRemove;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadComponent.prototype.prefixCls;\n  /** @type {?} */\n\n  NzUploadComponent.prototype.classList;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadComponent.prototype.cdr;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzUploadComponent.prototype.i18n;\n}\n/**\n * @fileoverview added by tsickle\n * Generated from: upload.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nvar NzUploadModule = /*#__PURE__*/_createClass(function NzUploadModule() {\n  _classCallCheck(this, NzUploadModule);\n});\n\nNzUploadModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({\n  type: NzUploadModule\n});\nNzUploadModule.ɵinj = ɵngcc0.ɵɵdefineInjector({\n  factory: function NzUploadModule_Factory(t) {\n    return new (t || NzUploadModule)();\n  },\n  imports: [[CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NzUploadModule, {\n    declarations: function declarations() {\n      return [NzUploadComponent, NzUploadBtnComponent, NzUploadListComponent];\n    },\n    imports: function imports() {\n      return [CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule];\n    },\n    exports: function exports() {\n      return [NzUploadComponent];\n    }\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  ɵngcc0.ɵsetClassMetadata(NzUploadModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule],\n      declarations: [NzUploadComponent, NzUploadBtnComponent, NzUploadListComponent],\n      exports: [NzUploadComponent]\n    }]\n  }], null, null);\n})();\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ng-zorro-antd-upload.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nexport { NzShowUploadListInterface, NzUploadBtnComponent, NzUploadComponent, NzUploadListComponent, NzUploadModule };","map":{"version":3,"sources":["ng-zorro-antd/upload/interface.ts","ng-zorro-antd/upload/upload-btn.component.ts","ng-zorro-antd/upload/upload-list.component.ts","ng-zorro-antd/upload/upload.component.ts","ng-zorro-antd/upload/upload.module.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Observable, Subscription } from 'rxjs';\n\nimport { IndexableObject, NzSafeAny } from 'ng-zorro-antd/core/types';\n\n/** Status */\nexport type UploadFileStatus = 'error' | 'success' | 'done' | 'uploading' | 'removed';\n\nexport type NzUploadType = 'select' | 'drag';\n\n/** Built-in styles of the uploading list. */\nexport type NzUploadListType = 'text' | 'picture' | 'picture-card';\n\nexport interface NzUploadFile {\n  uid: string;\n  size?: number;\n  name: string;\n  filename?: string;\n  lastModified?: string;\n  lastModifiedDate?: Date;\n  url?: string;\n  status?: UploadFileStatus;\n  originFileObj?: File;\n  percent?: number;\n  thumbUrl?: string;\n  response?: NzSafeAny;\n  error?: NzSafeAny;\n  linkProps?: { download: string };\n  type?: string;\n\n  [key: string]: NzSafeAny;\n}\n\nexport interface NzUploadChangeParam {\n  file: NzUploadFile;\n  fileList: NzUploadFile[];\n  event?: { percent: number };\n  /** Callback type. */\n  type?: string;\n}\n\nexport interface NzShowUploadList {\n  showRemoveIcon?: boolean;\n  showPreviewIcon?: boolean;\n  showDownloadIcon?: boolean;\n}\n\nexport type NzUploadTransformFileType = string | Blob | NzUploadFile | Observable<string | Blob | File>;\n\nexport interface ZipButtonOptions {\n  disabled?: boolean;\n  accept?: string | string[];\n  action?: string | ((file: NzUploadFile) => string | Observable<string>);\n  directory?: boolean;\n  openFileDialogOnClick?: boolean;\n  beforeUpload?(file: NzUploadFile, fileList: NzUploadFile[]): boolean | Observable<NzSafeAny>;\n  customRequest?(item: NzSafeAny): Subscription;\n  data?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\n  headers?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\n  name?: string;\n  multiple?: boolean;\n  withCredentials?: boolean;\n  filters?: UploadFilter[];\n  transformFile?(file: NzUploadFile): NzUploadTransformFileType;\n  onStart?(file: NzUploadFile): void;\n  onProgress?(e: NzSafeAny, file: NzUploadFile): void;\n  onSuccess?(ret: NzSafeAny, file: NzUploadFile, xhr: NzSafeAny): void;\n  onError?(err: NzSafeAny, file: NzUploadFile): void;\n}\n\nexport interface UploadFilter {\n  name: string;\n  fn(fileList: NzUploadFile[]): NzUploadFile[] | Observable<NzUploadFile[]>;\n}\n\nexport interface NzUploadXHRArgs {\n  action?: string;\n  name?: string;\n  headers?: IndexableObject;\n  file: NzUploadFile;\n  postFile: string | Blob | File | NzUploadFile;\n  data?: IndexableObject;\n  withCredentials?: boolean;\n  onProgress?(e: NzSafeAny, file: NzUploadFile): void;\n  onSuccess?(ret: NzSafeAny, file: NzUploadFile, xhr: NzSafeAny): void;\n  onError?(err: NzSafeAny, file: NzUploadFile): void;\n}\n\n/**\n * @deprecated Use {@link NzUploadType} from {@link @ng-zorro-antd/upload} instead.\n * @breaking-change 10.0.0\n */\nexport type UploadType = NzUploadType;\n\n/**\n * @deprecated Use {@link NzUploadListType} from {@link @ng-zorro-antd/upload} instead.\n * @breaking-change 10.0.0\n */\nexport type UploadListType = NzUploadListType;\n\n/**\n * @deprecated Use {@link NzUploadFile} from {@link @ng-zorro-antd/upload} instead.\n * @breaking-change 10.0.0\n */\nexport type UploadFile = NzUploadFile;\n\n/**\n * @deprecated Use {@link NzUploadChangeParam} from {@link @ng-zorro-antd/upload} instead.\n * @breaking-change 10.0.0\n */\nexport type UploadChangeParam = NzUploadChangeParam;\n\n/**\n * @deprecated Use {@link NzShowUploadList} from {@link @ng-zorro-antd/upload} instead.\n * @breaking-change 10.0.0\n */\nexport type ShowUploadListInterface = NzShowUploadList;\n\n/**\n * @deprecated Use {@link NzUploadTransformFileType} from {@link @ng-zorro-antd/upload} instead.\n * @breaking-change 10.0.0\n */\nexport type UploadTransformFileType = NzUploadTransformFileType;\n\n/**\n * @deprecated Use {@link NzUploadXHRArgs} from {@link @ng-zorro-antd/upload} instead.\n * @breaking-change 10.0.0\n */\nexport type UploadXHRArgs = NzUploadXHRArgs;\n\nexport class NzShowUploadListInterface {}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ENTER } from '@angular/cdk/keycodes';\nimport { HttpClient, HttpEvent, HttpEventType, HttpHeaders, HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Component, ElementRef, Input, OnDestroy, Optional, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { warn } from 'ng-zorro-antd/core/logger';\nimport { NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { Observable, of, Subscription } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\n\nimport { NzUploadFile, NzUploadXHRArgs, ZipButtonOptions } from './interface';\n\n@Component({\n  selector: '[nz-upload-btn]',\n  exportAs: 'nzUploadBtn',\n  templateUrl: './upload-btn.component.html',\n  host: {\n    '[attr.tabindex]': '\"0\"',\n    '[attr.role]': '\"button\"',\n    '[class.ant-upload]': 'true',\n    '[class.ant-upload-disabled]': 'options.disabled',\n    '(click)': 'onClick()',\n    '(keydown)': 'onKeyDown($event)',\n    '(drop)': 'onFileDrop($event)',\n    '(dragover)': 'onFileDrop($event)'\n  },\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None\n})\nexport class NzUploadBtnComponent implements OnDestroy {\n  reqs: { [key: string]: Subscription } = {};\n  private destroy = false;\n  @ViewChild('file', { static: false }) file!: ElementRef;\n  @Input() options!: ZipButtonOptions;\n  onClick(): void {\n    if (this.options.disabled || !this.options.openFileDialogOnClick) {\n      return;\n    }\n    (this.file.nativeElement as HTMLInputElement).click();\n  }\n\n  onKeyDown(e: KeyboardEvent): void {\n    if (this.options.disabled) {\n      return;\n    }\n    if (e.key === 'Enter' || e.keyCode === ENTER) {\n      this.onClick();\n    }\n  }\n\n  // skip safari bug\n  onFileDrop(e: DragEvent): void {\n    if (this.options.disabled || e.type === 'dragover') {\n      e.preventDefault();\n      return;\n    }\n    if (this.options.directory) {\n      this.traverseFileTree(e.dataTransfer!.items);\n    } else {\n      const files: File[] = Array.prototype.slice\n        .call(e.dataTransfer!.files)\n        .filter((file: File) => this.attrAccept(file, this.options.accept));\n      if (files.length) {\n        this.uploadFiles(files);\n      }\n    }\n\n    e.preventDefault();\n  }\n\n  onChange(e: Event): void {\n    if (this.options.disabled) {\n      return;\n    }\n    const hie = e.target as HTMLInputElement;\n    this.uploadFiles(hie.files!);\n    hie.value = '';\n  }\n\n  private traverseFileTree(files: DataTransferItemList): void {\n    const _traverseFileTree = (item: NzSafeAny, path: string) => {\n      if (item.isFile) {\n        item.file((file: File) => {\n          if (this.attrAccept(file, this.options.accept)) {\n            this.uploadFiles([file]);\n          }\n        });\n      } else if (item.isDirectory) {\n        const dirReader = item.createReader();\n\n        dirReader.readEntries((entries: NzSafeAny) => {\n          for (const entrieItem of entries) {\n            _traverseFileTree(entrieItem, `${path}${item.name}/`);\n          }\n        });\n      }\n    };\n\n    for (const file of files as NzSafeAny) {\n      _traverseFileTree(file.webkitGetAsEntry(), '');\n    }\n  }\n\n  private attrAccept(file: File, acceptedFiles?: string | string[]): boolean {\n    if (file && acceptedFiles) {\n      const acceptedFilesArray = Array.isArray(acceptedFiles) ? acceptedFiles : acceptedFiles.split(',');\n      const fileName = '' + file.name;\n      const mimeType = '' + file.type;\n      const baseMimeType = mimeType.replace(/\\/.*$/, '');\n\n      return acceptedFilesArray.some(type => {\n        const validType = type.trim();\n        if (validType.charAt(0) === '.') {\n          return (\n            fileName.toLowerCase().indexOf(validType.toLowerCase(), fileName.toLowerCase().length - validType.toLowerCase().length) !== -1\n          );\n        } else if (/\\/\\*$/.test(validType)) {\n          // This is something like a image/* mime type\n          return baseMimeType === validType.replace(/\\/.*$/, '');\n        }\n        return mimeType === validType;\n      });\n    }\n    return true;\n  }\n\n  private attachUid(file: NzUploadFile): NzUploadFile {\n    if (!file.uid) {\n      file.uid = Math.random().toString(36).substring(2);\n    }\n    return file;\n  }\n\n  uploadFiles(fileList: FileList | File[]): void {\n    let filters$: Observable<NzUploadFile[]> = of(Array.prototype.slice.call(fileList));\n    if (this.options.filters) {\n      this.options.filters.forEach(f => {\n        filters$ = filters$.pipe(\n          switchMap(list => {\n            const fnRes = f.fn(list);\n            return fnRes instanceof Observable ? fnRes : of(fnRes);\n          })\n        );\n      });\n    }\n    filters$.subscribe(\n      list => {\n        list.forEach((file: NzUploadFile) => {\n          this.attachUid(file);\n          this.upload(file, list);\n        });\n      },\n      e => {\n        warn(`Unhandled upload filter error`, e);\n      }\n    );\n  }\n\n  private upload(file: NzUploadFile, fileList: NzUploadFile[]): void {\n    if (!this.options.beforeUpload) {\n      return this.post(file);\n    }\n    const before = this.options.beforeUpload(file, fileList);\n    if (before instanceof Observable) {\n      before.subscribe(\n        (processedFile: NzUploadFile) => {\n          const processedFileType = Object.prototype.toString.call(processedFile);\n          if (processedFileType === '[object File]' || processedFileType === '[object Blob]') {\n            this.attachUid(processedFile);\n            this.post(processedFile);\n          } else if (typeof processedFile === 'boolean' && processedFile !== false) {\n            this.post(file);\n          }\n        },\n        e => {\n          warn(`Unhandled upload beforeUpload error`, e);\n        }\n      );\n    } else if (before !== false) {\n      return this.post(file);\n    }\n  }\n\n  private post(file: NzUploadFile): void {\n    if (this.destroy) {\n      return;\n    }\n    let process$: Observable<string | Blob | File | NzUploadFile> = of(file);\n    const opt = this.options;\n    const { uid } = file;\n    const { action, data, headers, transformFile } = opt;\n\n    const args: NzUploadXHRArgs = {\n      action: typeof action === 'string' ? action : '',\n      name: opt.name,\n      headers,\n      file,\n      postFile: file,\n      data,\n      withCredentials: opt.withCredentials,\n      onProgress: opt.onProgress\n        ? e => {\n            opt.onProgress!(e, file);\n          }\n        : undefined,\n      onSuccess: (ret, xhr) => {\n        this.clean(uid);\n        opt.onSuccess!(ret, file, xhr);\n      },\n      onError: xhr => {\n        this.clean(uid);\n        opt.onError!(xhr, file);\n      }\n    };\n\n    if (typeof action === 'function') {\n      const actionResult = (action as (file: NzUploadFile) => string | Observable<string>)(file);\n      if (actionResult instanceof Observable) {\n        process$ = process$.pipe(\n          switchMap(() => actionResult),\n          map(res => {\n            args.action = res;\n            return file;\n          })\n        );\n      } else {\n        args.action = actionResult;\n      }\n    }\n\n    if (typeof transformFile === 'function') {\n      const transformResult = transformFile(file);\n      process$ = process$.pipe(switchMap(() => (transformResult instanceof Observable ? transformResult : of(transformResult))));\n    }\n\n    if (typeof data === 'function') {\n      const dataResult = (data as (file: NzUploadFile) => {} | Observable<{}>)(file);\n      if (dataResult instanceof Observable) {\n        process$ = process$.pipe(\n          switchMap(() => dataResult),\n          map(res => {\n            args.data = res;\n            return file;\n          })\n        );\n      } else {\n        args.data = dataResult;\n      }\n    }\n\n    if (typeof headers === 'function') {\n      const headersResult = (headers as (file: NzUploadFile) => {} | Observable<{}>)(file);\n      if (headersResult instanceof Observable) {\n        process$ = process$.pipe(\n          switchMap(() => headersResult),\n          map(res => {\n            args.headers = res;\n            return file;\n          })\n        );\n      } else {\n        args.headers = headersResult;\n      }\n    }\n\n    process$.subscribe(newFile => {\n      args.postFile = newFile;\n      const req$ = (opt.customRequest || this.xhr).call(this, args);\n      if (!(req$ instanceof Subscription)) {\n        warn(`Must return Subscription type in '[nzCustomRequest]' property`);\n      }\n      this.reqs[uid] = req$;\n      opt.onStart!(file);\n    });\n  }\n\n  private xhr(args: NzUploadXHRArgs): Subscription {\n    const formData = new FormData();\n\n    if (args.data) {\n      Object.keys(args.data).map(key => {\n        formData.append(key, args.data![key]);\n      });\n    }\n\n    formData.append(args.name!, args.postFile as NzSafeAny);\n\n    if (!args.headers) {\n      args.headers = {};\n    }\n    if (args.headers['X-Requested-With'] !== null) {\n      args.headers['X-Requested-With'] = `XMLHttpRequest`;\n    } else {\n      delete args.headers['X-Requested-With'];\n    }\n    const req = new HttpRequest('POST', args.action!, formData, {\n      reportProgress: true,\n      withCredentials: args.withCredentials,\n      headers: new HttpHeaders(args.headers)\n    });\n    return this.http.request(req).subscribe(\n      (event: HttpEvent<NzSafeAny>) => {\n        if (event.type === HttpEventType.UploadProgress) {\n          if (event.total! > 0) {\n            (event as NzSafeAny).percent = (event.loaded / event.total!) * 100;\n          }\n          args.onProgress!(event, args.file);\n        } else if (event instanceof HttpResponse) {\n          args.onSuccess!(event.body, args.file, event);\n        }\n      },\n      err => {\n        this.abort(args.file);\n        args.onError!(err, args.file);\n      }\n    );\n  }\n\n  private clean(uid: string): void {\n    const req$ = this.reqs[uid];\n    if (req$ instanceof Subscription) {\n      req$.unsubscribe();\n    }\n    delete this.reqs[uid];\n  }\n\n  abort(file?: NzUploadFile): void {\n    if (file) {\n      this.clean(file && file.uid);\n    } else {\n      Object.keys(this.reqs).forEach(uid => this.clean(uid));\n    }\n  }\n\n  constructor(@Optional() private http: HttpClient) {\n    if (!http) {\n      throw new Error(`Not found 'HttpClient', You can import 'HttpClientModule' in your root module.`);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy = true;\n    this.abort();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { animate, style, transition, trigger } from '@angular/animations';\nimport { Platform } from '@angular/cdk/platform';\nimport { DOCUMENT } from '@angular/common';\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  Inject,\n  Input,\n  NgZone,\n  OnChanges,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { NgClassType, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { Observable } from 'rxjs';\n\nimport { NzShowUploadList, NzUploadFile, NzUploadListType } from './interface';\n\nconst isImageFileType = (type: string): boolean => !!type && type.indexOf('image/') === 0;\n\nconst MEASURE_SIZE = 200;\n\ntype UploadListIconType = '' | 'uploading' | 'thumbnail';\n\ninterface UploadListFile extends NzUploadFile {\n  isImageUrl?: boolean;\n  isUploading?: boolean;\n  iconType?: UploadListIconType;\n  listItemNameCls?: NgClassType;\n  showDownload?: boolean;\n}\n\n@Component({\n  selector: 'nz-upload-list',\n  exportAs: 'nzUploadList',\n  templateUrl: './upload-list.component.html',\n  animations: [\n    trigger('itemState', [\n      transition(':enter', [style({ height: '0', width: '0', opacity: 0 }), animate(150, style({ height: '*', width: '*', opacity: 1 }))]),\n      transition(':leave', [animate(150, style({ height: '0', width: '0', opacity: 0 }))])\n    ])\n  ],\n  host: {\n    '[class.ant-upload-list]': `true`,\n    '[class.ant-upload-list-text]': `listType === 'text'`,\n    '[class.ant-upload-list-picture]': `listType === 'picture'`,\n    '[class.ant-upload-list-picture-card]': `listType === 'picture-card'`\n  },\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NzUploadListComponent implements OnChanges {\n  list: UploadListFile[] = [];\n\n  private get showPic(): boolean {\n    return this.listType === 'picture' || this.listType === 'picture-card';\n  }\n\n  @Input() locale: NzSafeAny = {};\n  @Input() listType!: NzUploadListType;\n  @Input()\n  set items(list: NzUploadFile[]) {\n    this.list = list;\n  }\n  @Input() icons!: NzShowUploadList;\n  @Input() onPreview?: (file: NzUploadFile) => void;\n  @Input() onRemove!: (file: NzUploadFile) => void;\n  @Input() onDownload?: (file: NzUploadFile) => void;\n  @Input() previewFile?: (file: NzUploadFile) => Observable<string>;\n  @Input() previewIsImage?: (file: NzUploadFile) => boolean;\n  @Input() iconRender: TemplateRef<NzSafeAny> | null = null;\n\n  private genErr(file: NzUploadFile): string {\n    if (file.response && typeof file.response === 'string') {\n      return file.response;\n    }\n    return (file.error && file.error.statusText) || this.locale.uploadError;\n  }\n\n  private extname(url: string): string {\n    const temp = url.split('/');\n    const filename = temp[temp.length - 1];\n    const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n    return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n  }\n\n  isImageUrl(file: NzUploadFile): boolean {\n    if (isImageFileType(file.type!)) {\n      return true;\n    }\n    const url: string = (file.thumbUrl || file.url || '') as string;\n    if (!url) {\n      return false;\n    }\n    const extension = this.extname(url);\n    if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg)$/i.test(extension)) {\n      return true;\n    } else if (/^data:/.test(url)) {\n      // other file types of base64\n      return false;\n    } else if (extension) {\n      // other file types which have extension\n      return false;\n    }\n    return true;\n  }\n\n  private getIconType(file: UploadListFile): UploadListIconType {\n    if (!this.showPic) {\n      return '';\n    }\n    if (file.isUploading || (!file.thumbUrl && !file.url)) {\n      return 'uploading';\n    } else {\n      return 'thumbnail';\n    }\n  }\n\n  private previewImage(file: File | Blob): Promise<string> {\n    return new Promise(resolve => {\n      if (!isImageFileType(file.type)) {\n        resolve('');\n        return;\n      }\n      this.ngZone.runOutsideAngular(() => {\n        const canvas = this.doc.createElement('canvas');\n        canvas.width = MEASURE_SIZE;\n        canvas.height = MEASURE_SIZE;\n        canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\n        this.doc.body.appendChild(canvas);\n        const ctx = canvas.getContext('2d');\n        const img = new Image();\n        img.onload = () => {\n          const { width, height } = img;\n\n          let drawWidth = MEASURE_SIZE;\n          let drawHeight = MEASURE_SIZE;\n          let offsetX = 0;\n          let offsetY = 0;\n\n          if (width < height) {\n            drawHeight = height * (MEASURE_SIZE / width);\n            offsetY = -(drawHeight - drawWidth) / 2;\n          } else {\n            drawWidth = width * (MEASURE_SIZE / height);\n            offsetX = -(drawWidth - drawHeight) / 2;\n          }\n\n          try {\n            ctx!.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n          } catch {}\n          const dataURL = canvas.toDataURL();\n          this.doc.body.removeChild(canvas);\n\n          resolve(dataURL);\n        };\n        img.src = window.URL.createObjectURL(file);\n      });\n    });\n  }\n\n  private genThumb(): void {\n    if (!this.platform.isBrowser) {\n      return;\n    }\n\n    const win = window as NzSafeAny;\n    if (!this.showPic || typeof document === 'undefined' || typeof win === 'undefined' || !win.FileReader || !win.File) {\n      return;\n    }\n    this.list\n      .filter(file => file.originFileObj instanceof File && file.thumbUrl === undefined)\n      .forEach(file => {\n        file.thumbUrl = '';\n        (this.previewFile ? this.previewFile(file).toPromise() : this.previewImage(file.originFileObj!)).then(dataUrl => {\n          file.thumbUrl = dataUrl;\n          this.detectChanges();\n        });\n      });\n  }\n\n  private listItemNameCls(file: NzUploadFile): NgClassType {\n    const count = [this.showDownload(file), this.icons.showRemoveIcon].filter(x => x).length;\n    return {\n      [`ant-upload-list-item-name`]: true,\n      [`ant-upload-list-item-name-icon-count-${count}`]: true\n    };\n  }\n\n  private showDownload(file: NzUploadFile): boolean {\n    return !!(this.icons.showDownloadIcon && file.status === 'done');\n  }\n\n  private fixData(): void {\n    this.list.forEach(file => {\n      file.isUploading = file.status === 'uploading';\n      file.message = this.genErr(file);\n      file.linkProps = typeof file.linkProps === 'string' ? JSON.parse(file.linkProps) : file.linkProps;\n      file.isImageUrl = this.previewIsImage ? this.previewIsImage(file) : this.isImageUrl(file);\n      file.iconType = this.getIconType(file);\n      file.listItemNameCls = this.listItemNameCls(file);\n      file.showDownload = this.showDownload(file);\n    });\n  }\n\n  handlePreview(file: NzUploadFile, e: Event): void {\n    if (!this.onPreview) {\n      return;\n    }\n\n    e.preventDefault();\n    return this.onPreview(file);\n  }\n\n  handleRemove(file: NzUploadFile, e: Event): void {\n    e.preventDefault();\n    if (this.onRemove) {\n      this.onRemove(file);\n    }\n    return;\n  }\n\n  handleDownload(file: NzUploadFile): void {\n    if (typeof this.onDownload === 'function') {\n      this.onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  }\n\n  // #endregion\n\n  constructor(\n    private cdr: ChangeDetectorRef,\n    @Inject(DOCUMENT) private doc: NzSafeAny,\n    private ngZone: NgZone,\n    private platform: Platform\n  ) {}\n\n  detectChanges(): void {\n    this.fixData();\n    this.cdr.detectChanges();\n  }\n\n  ngOnChanges(): void {\n    this.fixData();\n    this.genThumb();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { BooleanInput, NumberInput, NzSafeAny } from 'ng-zorro-antd/core/types';\nimport { Observable, of, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\n\nimport { InputBoolean, InputNumber, toBoolean } from 'ng-zorro-antd/core/util';\nimport { NzI18nService, NzUploadI18nInterface } from 'ng-zorro-antd/i18n';\n\nimport {\n  NzShowUploadList,\n  NzUploadChangeParam,\n  NzUploadFile,\n  NzUploadListType,\n  NzUploadTransformFileType,\n  NzUploadType,\n  NzUploadXHRArgs,\n  UploadFilter,\n  ZipButtonOptions\n} from './interface';\nimport { NzUploadBtnComponent } from './upload-btn.component';\nimport { NzUploadListComponent } from './upload-list.component';\n\n@Component({\n  selector: 'nz-upload',\n  exportAs: 'nzUpload',\n  templateUrl: './upload.component.html',\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class.ant-upload-picture-card-wrapper]': 'nzListType === \"picture-card\"'\n  }\n})\nexport class NzUploadComponent implements OnInit, OnChanges, OnDestroy {\n  static ngAcceptInputType_nzLimit: NumberInput;\n  static ngAcceptInputType_nzSize: NumberInput;\n  static ngAcceptInputType_nzDirectory: BooleanInput;\n  static ngAcceptInputType_nzOpenFileDialogOnClick: BooleanInput;\n  static ngAcceptInputType_nzDisabled: BooleanInput;\n  static ngAcceptInputType_nzMultiple: BooleanInput;\n  static ngAcceptInputType_nzShowUploadList: BooleanInput | NzShowUploadList | undefined | null;\n  static ngAcceptInputType_nzShowButton: BooleanInput;\n  static ngAcceptInputType_nzWithCredentials: BooleanInput;\n\n  private i18n$!: Subscription;\n  @ViewChild('uploadComp', { static: false }) uploadComp!: NzUploadBtnComponent;\n  @ViewChild('listComp', { static: false }) listComp!: NzUploadListComponent;\n\n  locale!: NzUploadI18nInterface;\n\n  // #region fields\n\n  @Input() nzType: NzUploadType = 'select';\n  @Input() @InputNumber() nzLimit = 0;\n  @Input() @InputNumber() nzSize = 0;\n\n  @Input() nzFileType?: string;\n  @Input() nzAccept?: string | string[];\n  @Input() nzAction?: string | ((file: NzUploadFile) => string | Observable<string>);\n  @Input() @InputBoolean() nzDirectory = false;\n  @Input() @InputBoolean() nzOpenFileDialogOnClick = true;\n  @Input() nzBeforeUpload?: (file: NzUploadFile, fileList: NzUploadFile[]) => boolean | Observable<boolean>;\n  @Input() nzCustomRequest?: (item: NzUploadXHRArgs) => Subscription;\n  @Input() nzData?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\n  @Input() nzFilter: UploadFilter[] = [];\n  @Input() nzFileList: NzUploadFile[] = [];\n  @Input() @InputBoolean() nzDisabled = false;\n  @Input() nzHeaders?: {} | ((file: NzUploadFile) => {} | Observable<{}>);\n  @Input() nzListType: NzUploadListType = 'text';\n  @Input() @InputBoolean() nzMultiple = false;\n  @Input() nzName = 'file';\n\n  private _showUploadList: boolean | NzShowUploadList = true;\n\n  @Input()\n  set nzShowUploadList(value: boolean | NzShowUploadList) {\n    this._showUploadList = typeof value === 'boolean' ? toBoolean(value) : value;\n  }\n\n  get nzShowUploadList(): boolean | NzShowUploadList {\n    return this._showUploadList;\n  }\n\n  @Input() @InputBoolean() nzShowButton = true;\n  @Input() @InputBoolean() nzWithCredentials = false;\n\n  @Input() nzRemove?: (file: NzUploadFile) => boolean | Observable<boolean>;\n  @Input() nzPreview?: (file: NzUploadFile) => void;\n  @Input() nzPreviewFile?: (file: NzUploadFile) => Observable<string>;\n  @Input() nzPreviewIsImage?: (file: NzUploadFile) => boolean;\n  @Input() nzTransformFile?: (file: NzUploadFile) => NzUploadTransformFileType;\n  @Input() nzDownload?: (file: NzUploadFile) => void;\n  @Input() nzIconRender: TemplateRef<NzSafeAny> | null = null;\n  @Input() nzFileListRender: TemplateRef<void> | null = null;\n\n  @Output() readonly nzChange: EventEmitter<NzUploadChangeParam> = new EventEmitter<NzUploadChangeParam>();\n  @Output() readonly nzFileListChange: EventEmitter<NzUploadFile[]> = new EventEmitter<NzUploadFile[]>();\n\n  _btnOptions?: ZipButtonOptions;\n\n  private zipOptions(): this {\n    if (typeof this.nzShowUploadList === 'boolean' && this.nzShowUploadList) {\n      this.nzShowUploadList = {\n        showPreviewIcon: true,\n        showRemoveIcon: true,\n        showDownloadIcon: true\n      };\n    }\n    // filters\n    const filters: UploadFilter[] = this.nzFilter.slice();\n    if (this.nzMultiple && this.nzLimit > 0 && filters.findIndex(w => w.name === 'limit') === -1) {\n      filters.push({\n        name: 'limit',\n        fn: (fileList: NzUploadFile[]) => fileList.slice(-this.nzLimit)\n      });\n    }\n    if (this.nzSize > 0 && filters.findIndex(w => w.name === 'size') === -1) {\n      filters.push({\n        name: 'size',\n        fn: (fileList: NzUploadFile[]) => fileList.filter(w => w.size! / 1024 <= this.nzSize)\n      });\n    }\n    if (this.nzFileType && this.nzFileType.length > 0 && filters.findIndex(w => w.name === 'type') === -1) {\n      const types = this.nzFileType.split(',');\n      filters.push({\n        name: 'type',\n        fn: (fileList: NzUploadFile[]) => fileList.filter(w => ~types.indexOf(w.type!))\n      });\n    }\n    this._btnOptions = {\n      disabled: this.nzDisabled,\n      accept: this.nzAccept,\n      action: this.nzAction,\n      directory: this.nzDirectory,\n      openFileDialogOnClick: this.nzOpenFileDialogOnClick,\n      beforeUpload: this.nzBeforeUpload,\n      customRequest: this.nzCustomRequest,\n      data: this.nzData,\n      headers: this.nzHeaders,\n      name: this.nzName,\n      multiple: this.nzMultiple,\n      withCredentials: this.nzWithCredentials,\n      filters,\n      transformFile: this.nzTransformFile,\n      onStart: this.onStart,\n      onProgress: this.onProgress,\n      onSuccess: this.onSuccess,\n      onError: this.onError\n    };\n    return this;\n  }\n\n  // #endregion\n\n  constructor(private cdr: ChangeDetectorRef, private i18n: NzI18nService) {}\n\n  // #region upload\n\n  private fileToObject(file: NzUploadFile): NzUploadFile {\n    return {\n      lastModified: file.lastModified,\n      lastModifiedDate: file.lastModifiedDate,\n      name: file.filename || file.name,\n      size: file.size,\n      type: file.type,\n      uid: file.uid,\n      response: file.response,\n      error: file.error,\n      percent: 0,\n      originFileObj: file as NzSafeAny\n    };\n  }\n\n  private getFileItem(file: NzUploadFile, fileList: NzUploadFile[]): NzUploadFile {\n    return fileList.filter(item => item.uid === file.uid)[0];\n  }\n\n  private removeFileItem(file: NzUploadFile, fileList: NzUploadFile[]): NzUploadFile[] {\n    return fileList.filter(item => item.uid !== file.uid);\n  }\n\n  private onStart = (file: NzUploadFile): void => {\n    if (!this.nzFileList) {\n      this.nzFileList = [];\n    }\n    const targetItem = this.fileToObject(file);\n    targetItem.status = 'uploading';\n    this.nzFileList = this.nzFileList.concat(targetItem);\n    this.nzFileListChange.emit(this.nzFileList);\n    this.nzChange.emit({ file: targetItem, fileList: this.nzFileList, type: 'start' });\n    this.detectChangesList();\n  };\n\n  private onProgress = (e: { percent: number }, file: NzUploadFile): void => {\n    const fileList = this.nzFileList;\n    const targetItem = this.getFileItem(file, fileList);\n    targetItem.percent = e.percent;\n    this.nzChange.emit({\n      event: e,\n      file: { ...targetItem },\n      fileList: this.nzFileList,\n      type: 'progress'\n    });\n    this.detectChangesList();\n  };\n\n  private onSuccess = (res: {}, file: NzUploadFile): void => {\n    const fileList = this.nzFileList;\n    const targetItem = this.getFileItem(file, fileList);\n    targetItem.status = 'done';\n    targetItem.response = res;\n    this.nzChange.emit({\n      file: { ...targetItem },\n      fileList,\n      type: 'success'\n    });\n    this.detectChangesList();\n  };\n\n  private onError = (err: {}, file: NzUploadFile): void => {\n    const fileList = this.nzFileList;\n    const targetItem = this.getFileItem(file, fileList);\n    targetItem.error = err;\n    targetItem.status = 'error';\n    this.nzChange.emit({\n      file: { ...targetItem },\n      fileList,\n      type: 'error'\n    });\n    this.detectChangesList();\n  };\n\n  // #endregion\n\n  // #region drag\n\n  private dragState?: string;\n\n  // skip safari bug\n  fileDrop(e: DragEvent): void {\n    if (e.type === this.dragState) {\n      return;\n    }\n    this.dragState = e.type;\n    this.setClassMap();\n  }\n\n  // #endregion\n\n  // #region list\n\n  private detectChangesList(): void {\n    this.cdr.detectChanges();\n    this.listComp?.detectChanges();\n  }\n\n  onRemove = (file: NzUploadFile): void => {\n    this.uploadComp.abort(file);\n    file.status = 'removed';\n    const fnRes = typeof this.nzRemove === 'function' ? this.nzRemove(file) : this.nzRemove == null ? true : this.nzRemove;\n    (fnRes instanceof Observable ? fnRes : of(fnRes)).pipe(filter((res: boolean) => res)).subscribe(() => {\n      this.nzFileList = this.removeFileItem(file, this.nzFileList);\n      this.nzChange.emit({\n        file,\n        fileList: this.nzFileList,\n        type: 'removed'\n      });\n      this.nzFileListChange.emit(this.nzFileList);\n      this.cdr.detectChanges();\n    });\n  };\n\n  // #endregion\n\n  // #region styles\n\n  private prefixCls = 'ant-upload';\n  classList: string[] = [];\n\n  private setClassMap(): void {\n    let subCls: string[] = [];\n    if (this.nzType === 'drag') {\n      if (this.nzFileList.some(file => file.status === 'uploading')) {\n        subCls.push(`${this.prefixCls}-drag-uploading`);\n      }\n      if (this.dragState === 'dragover') {\n        subCls.push(`${this.prefixCls}-drag-hover`);\n      }\n    } else {\n      subCls = [`${this.prefixCls}-select-${this.nzListType}`];\n    }\n\n    this.classList = [\n      this.prefixCls,\n      `${this.prefixCls}-${this.nzType}`,\n      ...subCls,\n      (this.nzDisabled && `${this.prefixCls}-disabled`) || ''\n    ].filter(item => !!item);\n\n    this.cdr.detectChanges();\n  }\n\n  // #endregion\n\n  ngOnInit(): void {\n    this.i18n$ = this.i18n.localeChange.subscribe(() => {\n      this.locale = this.i18n.getLocaleData('Upload');\n      this.detectChangesList();\n    });\n  }\n\n  ngOnChanges(): void {\n    this.zipOptions().setClassMap();\n  }\n\n  ngOnDestroy(): void {\n    this.i18n$.unsubscribe();\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { NzI18nModule } from 'ng-zorro-antd/i18n';\nimport { NzIconModule } from 'ng-zorro-antd/icon';\nimport { NzProgressModule } from 'ng-zorro-antd/progress';\nimport { NzToolTipModule } from 'ng-zorro-antd/tooltip';\n\nimport { NzUploadBtnComponent } from './upload-btn.component';\nimport { NzUploadListComponent } from './upload-list.component';\nimport { NzUploadComponent } from './upload.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, PlatformModule, NzToolTipModule, NzProgressModule, NzI18nModule, NzIconModule],\n  declarations: [NzUploadComponent, NzUploadBtnComponent, NzUploadListComponent],\n  exports: [NzUploadComponent]\n})\nexport class NzUploadModule {}\n"]},"metadata":{},"sourceType":"module"}