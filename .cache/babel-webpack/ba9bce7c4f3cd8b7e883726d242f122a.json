{"ast":null,"code":"import _classCallCheck from \"D:/queen-supermarket/Biz1Market_EXE/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:/queen-supermarket/Biz1Market_EXE/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport { Platform, PlatformModule } from '@angular/cdk/platform';\nimport { InjectionToken, Directive, NgZone, ElementRef, Optional, Inject, Input, NgModule } from '@angular/core';\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-wave-renderer.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nimport * as Éµngcc0 from '@angular/core';\n\nvar NzWaveRenderer = /*#__PURE__*/function () {\n  /**\n   * @param {?} triggerElement\n   * @param {?} ngZone\n   * @param {?} insertExtraNode\n   */\n  function NzWaveRenderer(triggerElement, ngZone, insertExtraNode) {\n    var _this = this;\n\n    _classCallCheck(this, NzWaveRenderer);\n\n    this.triggerElement = triggerElement;\n    this.ngZone = ngZone;\n    this.insertExtraNode = insertExtraNode;\n    this.waveTransitionDuration = 400;\n    this.styleForPseudo = null;\n    this.extraNode = null;\n    this.lastTime = 0;\n    this.platform = new Platform();\n\n    this.onClick =\n    /**\n    * @param {?} event\n    * @return {?}\n    */\n    function (event) {\n      if (!_this.triggerElement || !_this.triggerElement.getAttribute || _this.triggerElement.getAttribute('disabled') ||\n      /** @type {?} */\n      event.target.tagName === 'INPUT' || _this.triggerElement.className.indexOf('disabled') >= 0) {\n        return;\n      }\n\n      _this.fadeOutWave();\n    };\n\n    this.clickHandler = this.onClick.bind(this);\n    this.bindTriggerEvent();\n  }\n  /**\n   * @return {?}\n   */\n\n\n  _createClass(NzWaveRenderer, [{\n    key: \"waveAttributeName\",\n    get: function get() {\n      return this.insertExtraNode ? 'ant-click-animating' : 'ant-click-animating-without-extra-node';\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"bindTriggerEvent\",\n    value: function bindTriggerEvent() {\n      var _this2 = this;\n\n      if (this.platform.isBrowser) {\n        this.ngZone.runOutsideAngular(\n        /**\n        * @return {?}\n        */\n        function () {\n          _this2.removeTriggerEvent();\n\n          if (_this2.triggerElement) {\n            _this2.triggerElement.addEventListener('click', _this2.clickHandler, true);\n          }\n        });\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"removeTriggerEvent\",\n    value: function removeTriggerEvent() {\n      if (this.triggerElement) {\n        this.triggerElement.removeEventListener('click', this.clickHandler, true);\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"removeStyleAndExtraNode\",\n    value: function removeStyleAndExtraNode() {\n      if (this.styleForPseudo && document.body.contains(this.styleForPseudo)) {\n        document.body.removeChild(this.styleForPseudo);\n        this.styleForPseudo = null;\n      }\n\n      if (this.insertExtraNode && this.triggerElement.contains(this.extraNode)) {\n        this.triggerElement.removeChild(\n        /** @type {?} */\n        this.extraNode);\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.removeTriggerEvent();\n      this.removeStyleAndExtraNode();\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n\n  }, {\n    key: \"fadeOutWave\",\n    value: function fadeOutWave() {\n      var _this3 = this;\n\n      /** @type {?} */\n      var node = this.triggerElement;\n      /** @type {?} */\n\n      var waveColor = this.getWaveColor(node);\n      node.setAttribute(this.waveAttributeName, 'true');\n\n      if (Date.now() < this.lastTime + this.waveTransitionDuration) {\n        return;\n      }\n\n      if (this.isValidColor(waveColor)) {\n        if (!this.styleForPseudo) {\n          this.styleForPseudo = document.createElement('style');\n        }\n\n        this.styleForPseudo.innerHTML = \"\\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\\n        --antd-wave-shadow-color: \".concat(waveColor, \";\\n      }\");\n        document.body.appendChild(this.styleForPseudo);\n      }\n\n      if (this.insertExtraNode) {\n        if (!this.extraNode) {\n          this.extraNode = document.createElement('div');\n        }\n\n        this.extraNode.className = 'ant-click-animating-node';\n        node.appendChild(this.extraNode);\n      }\n\n      this.lastTime = Date.now();\n      this.runTimeoutOutsideZone(\n      /**\n      * @return {?}\n      */\n      function () {\n        node.removeAttribute(_this3.waveAttributeName);\n\n        _this3.removeStyleAndExtraNode();\n      }, this.waveTransitionDuration);\n    }\n    /**\n     * @private\n     * @param {?} color\n     * @return {?}\n     */\n\n  }, {\n    key: \"isValidColor\",\n    value: function isValidColor(color) {\n      return !!color && color !== '#ffffff' && color !== 'rgb(255, 255, 255)' && this.isNotGrey(color) && !/rgba\\(\\d*, \\d*, \\d*, 0\\)/.test(color) && color !== 'transparent';\n    }\n    /**\n     * @private\n     * @param {?} color\n     * @return {?}\n     */\n\n  }, {\n    key: \"isNotGrey\",\n    value: function isNotGrey(color) {\n      /** @type {?} */\n      var match = color.match(/rgba?\\((\\d*), (\\d*), (\\d*)(, [\\.\\d]*)?\\)/);\n\n      if (match && match[1] && match[2] && match[3]) {\n        return !(match[1] === match[2] && match[2] === match[3]);\n      }\n\n      return true;\n    }\n    /**\n     * @private\n     * @param {?} node\n     * @return {?}\n     */\n\n  }, {\n    key: \"getWaveColor\",\n    value: function getWaveColor(node) {\n      /** @type {?} */\n      var nodeStyle = getComputedStyle(node);\n      return nodeStyle.getPropertyValue('border-top-color') || // Firefox Compatible\n      nodeStyle.getPropertyValue('border-color') || nodeStyle.getPropertyValue('background-color');\n    }\n    /**\n     * @private\n     * @param {?} fn\n     * @param {?} delay\n     * @return {?}\n     */\n\n  }, {\n    key: \"runTimeoutOutsideZone\",\n    value: function runTimeoutOutsideZone(fn, delay) {\n      this.ngZone.runOutsideAngular(\n      /**\n      * @return {?}\n      */\n      function () {\n        return setTimeout(fn, delay);\n      });\n    }\n  }]);\n\n  return NzWaveRenderer;\n}();\n\nif (false) {\n  /**\n   * @type {?}\n   * @private\n   */\n  NzWaveRenderer.prototype.waveTransitionDuration;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveRenderer.prototype.styleForPseudo;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveRenderer.prototype.extraNode;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveRenderer.prototype.lastTime;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveRenderer.prototype.platform;\n  /** @type {?} */\n\n  NzWaveRenderer.prototype.clickHandler;\n  /** @type {?} */\n\n  NzWaveRenderer.prototype.onClick;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveRenderer.prototype.triggerElement;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveRenderer.prototype.ngZone;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveRenderer.prototype.insertExtraNode;\n}\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-wave.directive.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @record\n */\n\n\nfunction NzWaveConfig() {}\n\nif (false) {\n  /** @type {?|undefined} */\n  NzWaveConfig.prototype.disabled;\n}\n/** @type {?} */\n\n\nvar NZ_WAVE_GLOBAL_DEFAULT_CONFIG = {\n  disabled: false\n};\n/** @type {?} */\n\nvar NZ_WAVE_GLOBAL_CONFIG = new InjectionToken('nz-wave-global-options', {\n  providedIn: 'root',\n  factory: NZ_WAVE_GLOBAL_CONFIG_FACTORY\n});\n/**\n * @return {?}\n */\n\nfunction NZ_WAVE_GLOBAL_CONFIG_FACTORY() {\n  return NZ_WAVE_GLOBAL_DEFAULT_CONFIG;\n}\n\nvar NzWaveDirective = /*#__PURE__*/function () {\n  /**\n   * @param {?} ngZone\n   * @param {?} elementRef\n   * @param {?} config\n   * @param {?} animationType\n   */\n  function NzWaveDirective(ngZone, elementRef, config, animationType) {\n    _classCallCheck(this, NzWaveDirective);\n\n    this.ngZone = ngZone;\n    this.elementRef = elementRef;\n    this.config = config;\n    this.animationType = animationType;\n    this.nzWaveExtraNode = false;\n    this.waveDisabled = false;\n    this.waveDisabled = this.isConfigDisabled();\n  }\n  /**\n   * @return {?}\n   */\n\n\n  _createClass(NzWaveDirective, [{\n    key: \"disabled\",\n    get: function get() {\n      return this.waveDisabled;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"rendererRef\",\n    get: function get() {\n      return this.waveRenderer;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"isConfigDisabled\",\n    value: function isConfigDisabled() {\n      /** @type {?} */\n      var disabled = false;\n\n      if (this.config && typeof this.config.disabled === 'boolean') {\n        disabled = this.config.disabled;\n      }\n\n      if (this.animationType === 'NoopAnimations') {\n        disabled = true;\n      }\n\n      return disabled;\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      if (this.waveRenderer) {\n        this.waveRenderer.destroy();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      this.renderWaveIfEnabled();\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"renderWaveIfEnabled\",\n    value: function renderWaveIfEnabled() {\n      if (!this.waveDisabled && this.elementRef.nativeElement) {\n        this.waveRenderer = new NzWaveRenderer(this.elementRef.nativeElement, this.ngZone, this.nzWaveExtraNode);\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.waveDisabled = true;\n\n      if (this.waveRenderer) {\n        this.waveRenderer.removeTriggerEvent();\n        this.waveRenderer.removeStyleAndExtraNode();\n      }\n    }\n    /**\n     * @return {?}\n     */\n\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      // config priority\n      this.waveDisabled = this.isConfigDisabled() || false;\n\n      if (this.waveRenderer) {\n        this.waveRenderer.bindTriggerEvent();\n      }\n    }\n  }]);\n\n  return NzWaveDirective;\n}();\n\nNzWaveDirective.Éµfac = function NzWaveDirective_Factory(t) {\n  return new (t || NzWaveDirective)(Éµngcc0.ÉµÉµdirectiveInject(Éµngcc0.NgZone), Éµngcc0.ÉµÉµdirectiveInject(Éµngcc0.ElementRef), Éµngcc0.ÉµÉµdirectiveInject(NZ_WAVE_GLOBAL_CONFIG, 8), Éµngcc0.ÉµÉµdirectiveInject(ANIMATION_MODULE_TYPE, 8));\n};\n\nNzWaveDirective.Éµdir = Éµngcc0.ÉµÉµdefineDirective({\n  type: NzWaveDirective,\n  selectors: [[\"\", \"nz-wave\", \"\"], [\"button\", \"nz-button\", \"\", 3, \"nzType\", \"link\"]],\n  inputs: {\n    nzWaveExtraNode: \"nzWaveExtraNode\"\n  },\n  exportAs: [\"nzWave\"]\n});\n/** @nocollapse */\n\nNzWaveDirective.ctorParameters = function () {\n  return [{\n    type: NgZone\n  }, {\n    type: ElementRef\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Optional\n    }, {\n      type: Inject,\n      args: [NZ_WAVE_GLOBAL_CONFIG]\n    }]\n  }, {\n    type: String,\n    decorators: [{\n      type: Optional\n    }, {\n      type: Inject,\n      args: [ANIMATION_MODULE_TYPE]\n    }]\n  }];\n};\n\nNzWaveDirective.propDecorators = {\n  nzWaveExtraNode: [{\n    type: Input\n  }]\n};\n/*@__PURE__*/\n\n(function () {\n  Éµngcc0.ÉµsetClassMetadata(NzWaveDirective, [{\n    type: Directive,\n    args: [{\n      selector: '[nz-wave],button[nz-button]:not([nzType=\"link\"])',\n      exportAs: 'nzWave'\n    }]\n  }], function () {\n    return [{\n      type: Éµngcc0.NgZone\n    }, {\n      type: Éµngcc0.ElementRef\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [NZ_WAVE_GLOBAL_CONFIG]\n      }]\n    }, {\n      type: String,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [ANIMATION_MODULE_TYPE]\n      }]\n    }];\n  }, {\n    nzWaveExtraNode: [{\n      type: Input\n    }]\n  });\n})();\n\nif (false) {\n  /** @type {?} */\n  NzWaveDirective.prototype.nzWaveExtraNode;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveDirective.prototype.waveRenderer;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveDirective.prototype.waveDisabled;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveDirective.prototype.ngZone;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveDirective.prototype.elementRef;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveDirective.prototype.config;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  NzWaveDirective.prototype.animationType;\n}\n/**\n * @fileoverview added by tsickle\n * Generated from: nz-wave.module.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nvar NzWaveModule = /*#__PURE__*/_createClass(function NzWaveModule() {\n  _classCallCheck(this, NzWaveModule);\n});\n\nNzWaveModule.Éµmod = Éµngcc0.ÉµÉµdefineNgModule({\n  type: NzWaveModule\n});\nNzWaveModule.Éµinj = Éµngcc0.ÉµÉµdefineInjector({\n  factory: function NzWaveModule_Factory(t) {\n    return new (t || NzWaveModule)();\n  },\n  imports: [[PlatformModule]]\n});\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && Éµngcc0.ÉµÉµsetNgModuleScope(NzWaveModule, {\n    declarations: function declarations() {\n      return [NzWaveDirective];\n    },\n    imports: function imports() {\n      return [PlatformModule];\n    },\n    exports: function exports() {\n      return [NzWaveDirective];\n    }\n  });\n})();\n/*@__PURE__*/\n\n\n(function () {\n  Éµngcc0.ÉµsetClassMetadata(NzWaveModule, [{\n    type: NgModule,\n    args: [{\n      imports: [PlatformModule],\n      exports: [NzWaveDirective],\n      declarations: [NzWaveDirective]\n    }]\n  }], null, null);\n})();\n/**\n * @fileoverview added by tsickle\n * Generated from: public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * Generated from: ng-zorro-antd-core-wave.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n\nexport { NZ_WAVE_GLOBAL_CONFIG, NZ_WAVE_GLOBAL_CONFIG_FACTORY, NZ_WAVE_GLOBAL_DEFAULT_CONFIG, NzWaveDirective, NzWaveModule, NzWaveRenderer };","map":{"version":3,"sources":["ng-zorro-antd/core/wave/nz-wave-renderer.ts","ng-zorro-antd/core/wave/nz-wave.directive.ts","ng-zorro-antd/core/wave/nz-wave.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;IAQa,c;AACb;AAAQ;AACP;AAAyB;AACxB;AAQA,0BAAoB,cAApB,EAAyD,MAAzD,EAAiF,eAAjF,EAAyG;AAAA;;AAAA;;AAArF,SAAA,cAAA,GAAA,cAAA;AAAqC,SAAA,MAAA,GAAA,MAAA;AAAwB,SAAA,eAAA,GAAA,eAAA;AAVzE,SAAA,sBAAA,GAAyB,GAAzB;AACA,SAAA,cAAA,GAA0C,IAA1C;AACA,SAAA,SAAA,GAAmC,IAAnC;AACA,SAAA,QAAA,GAAW,CAAX;AACA,SAAA,QAAA,GAAW,IAAI,QAAJ,EAAX;;AAWR,SAAA,OAAA;AAAO;AAAQ;AACT;AACc;AAFV,cAAC,KAAD,EAAkB;AAC1B,UACE,CAAC,KAAI,CAAC,cAAN,IACA,CAAC,KAAI,CAAC,cAAL,CAAoB,YADrB,IAEA,KAAI,CAAC,cAAL,CAAoB,YAApB,CAAiC,UAAjC,CAFA;AAGA;AAAC,MAAA,KAAK,CAAC,MAAP,CAA8B,OAA9B,KAA0C,OAH1C,IAIA,KAAI,CAAC,cAAL,CAAoB,SAApB,CAA8B,OAA9B,CAAsC,UAAtC,KAAqD,CALvD,EAME;AACA;AACD;;AACD,MAAA,KAAI,CAAC,WAAL;AACD,KAXD;;AAJE,SAAK,YAAL,GAAoB,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,CAApB;AACA,SAAK,gBAAL;AACD;AACH;AACO;AAAmB;;;;;SATxB,eAAqB;AACnB,aAAO,KAAK,eAAL,GAAuB,qBAAvB,GAA+C,wCAAtD;AACD;AACH;AACO;AAAmB;;;;WAkBxB,4BAAgB;AAAA;;AACd,UAAI,KAAK,QAAL,CAAc,SAAlB,EAA6B;AAC3B,aAAK,MAAL,CAAY,iBAAZ;AAA6B;AAAM;AACjB;AADY,oBAAA;AAC5B,UAAA,MAAI,CAAC,kBAAL;;AACA,cAAI,MAAI,CAAC,cAAT,EAAyB;AACvB,YAAA,MAAI,CAAC,cAAL,CAAoB,gBAApB,CAAqC,OAArC,EAA8C,MAAI,CAAC,YAAnD,EAAiE,IAAjE;AACD;AACF,SALD;AAMD;AACF;AACH;AACO;AAAmB;;;;WAAxB,8BAAkB;AAChB,UAAI,KAAK,cAAT,EAAyB;AACvB,aAAK,cAAL,CAAoB,mBAApB,CAAwC,OAAxC,EAAiD,KAAK,YAAtD,EAAoE,IAApE;AACD;AACF;AACH;AACO;AAAmB;;;;WAAxB,mCAAuB;AACrB,UAAI,KAAK,cAAL,IAAuB,QAAQ,CAAC,IAAT,CAAc,QAAd,CAAuB,KAAK,cAA5B,CAA3B,EAAwE;AACtE,QAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,KAAK,cAA/B;AACA,aAAK,cAAL,GAAsB,IAAtB;AACD;;AACD,UAAI,KAAK,eAAL,IAAwB,KAAK,cAAL,CAAoB,QAApB,CAA6B,KAAK,SAAlC,CAA5B,EAA0E;AACxE,aAAK,cAAL,CAAoB,WAApB;AAA+B;AAAC,aAAK,SAArC;AACD;AACF;AACH;AACO;AACD;;;;WADJ,mBAAO;AACL,WAAK,kBAAL;AACA,WAAK,uBAAL;AACD;AACH;AACO;AAAgB;AACb;;;;WADA,uBAAW;AAAA;;AAAK;AACP,UAAT,IAAI,GAAG,KAAK,cAAH;AACnB;;AAAyB,UAAf,SAAS,GAAG,KAAK,YAAL,CAAkB,IAAlB,CAAG;AACrB,MAAA,IAAI,CAAC,YAAL,CAAkB,KAAK,iBAAvB,EAA0C,MAA1C;;AACA,UAAI,IAAI,CAAC,GAAL,KAAa,KAAK,QAAL,GAAgB,KAAK,sBAAtC,EAA8D;AAC5D;AACD;;AAED,UAAI,KAAK,YAAL,CAAkB,SAAlB,CAAJ,EAAkC;AAChC,YAAI,CAAC,KAAK,cAAV,EAA0B;AACxB,eAAK,cAAL,GAAsB,QAAQ,CAAC,aAAT,CAAuB,OAAvB,CAAtB;AACD;;AAED,aAAK,cAAL,CAAoB,SAApB,4IAE8B,SAF9B;AAIA,QAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,KAAK,cAA/B;AACD;;AAED,UAAI,KAAK,eAAT,EAA0B;AACxB,YAAI,CAAC,KAAK,SAAV,EAAqB;AACnB,eAAK,SAAL,GAAiB,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAAjB;AACD;;AACD,aAAK,SAAL,CAAe,SAAf,GAA2B,0BAA3B;AACA,QAAA,IAAI,CAAC,WAAL,CAAiB,KAAK,SAAtB;AACD;;AAED,WAAK,QAAL,GAAgB,IAAI,CAAC,GAAL,EAAhB;AAEA,WAAK,qBAAL;AAA0B;AAAM;AAChB;AADW,kBAAA;AACzB,QAAA,IAAI,CAAC,eAAL,CAAqB,MAAI,CAAC,iBAA1B;;AACA,QAAA,MAAI,CAAC,uBAAL;AACD,OAHD,EAGG,KAAK,sBAHR;AAID;AACH;AACO;AAAgB;AAAwB;AAE3C;;;;WAFM,sBAAa,KAAb,EAA0B;AAChC,aACE,CAAC,CAAC,KAAF,IACA,KAAK,KAAK,SADV,IAEA,KAAK,KAAK,oBAFV,IAGA,KAAK,SAAL,CAAe,KAAf,CAHA,IAIA,CAAC,2BAA2B,IAA3B,CAAgC,KAAhC,CAJD,IAKA,KAAK,KAAK,aANZ;AAQD;AACH;AACO;AAAgB;AACtB;AAAmB;;;;WADV,mBAAU,KAAV,EAAuB;AAAI;AACrB,UAAN,KAAK,GAAG,KAAK,CAAC,KAAN,CAAY,0CAAZ,CAAF;;AACZ,UAAI,KAAK,IAAI,KAAK,CAAC,CAAD,CAAd,IAAqB,KAAK,CAAC,CAAD,CAA1B,IAAiC,KAAK,CAAC,CAAD,CAA1C,EAA+C;AAC7C,eAAO,EAAE,KAAK,CAAC,CAAD,CAAL,KAAa,KAAK,CAAC,CAAD,CAAlB,IAAyB,KAAK,CAAC,CAAD,CAAL,KAAa,KAAK,CAAC,CAAD,CAA7C,CAAP;AACD;;AACD,aAAO,IAAP;AACD;AACH;AACO;AAAgB;AAAuB;AACjC;;;;WADH,sBAAa,IAAb,EAA8B;AAAI;AAC3B,UAAP,SAAS,GAAG,gBAAgB,CAAC,IAAD,CAArB;AACb,aACE,SAAS,CAAC,gBAAV,CAA2B,kBAA3B,KAA8C;AAC9C,MAAA,SAAS,CAAC,gBAAV,CAA2B,cAA3B,CADA,IAEA,SAAS,CAAC,gBAAV,CAA2B,kBAA3B,CAHF;AAKD;AACH;AACO;AAAgB;AAAqB;AAAwB;AACpD;;;;WADN,+BAAsB,EAAtB,EAAsC,KAAtC,EAAmD;AACzD,WAAK,MAAL,CAAY,iBAAZ;AAA6B;AAAM;AAAuB;AAA5B;AAAA,eAAM,UAAU,CAAC,EAAD,EAAK,KAAL,CAAhB;AAAA,OAA9B;AACD;;;;;;AAEH,IAAA,KAAA,EAAA;AAAa;AAAQ;AAAiB;AAAgB;AAhIpD,EAAA,cAAA,CAAA,SAAA,CAAA,sBAAA;AACF;AAAQ;AAAiB;AAAgB;;AAAvC,EAAA,cAAA,CAAA,SAAA,CAAA,cAAA;AACF;AAAQ;AAAiB;AAAgB;;AAAvC,EAAA,cAAA,CAAA,SAAA,CAAA,SAAA;AACF;AAAQ;AACP;AAAgB;;AADf,EAAA,cAAA,CAAA,SAAA,CAAA,QAAA;AACF;AAAQ;AAAiB;AACrB;;AADF,EAAA,cAAA,CAAA,SAAA,CAAA,QAAA;AACF;;AAAE,EAAA,cAAA,CAAA,SAAA,CAAA,YAAA;AACF;;AASE,EAAA,cAAA,CAAA,SAAA,CAAA,OAAA;AAYF;AACO;AAAiB;AACb;;AAnBG,EAAA,cAAA,CAAA,SAAA,CAAA,cAAA;AAAoC;AAAQ;AAAiB;AAAgB;;AAAxC,EAAA,cAAA,CAAA,SAAA,CAAA,MAAA;AAAuB;AAAQ;AAAiB;AAC/F;;AADuE,EAAA,cAAA,CAAA,SAAA,CAAA,eAAA;AAAiC;AAC5G;AAAI;AAAkC;AAEtC;AAMU;;AAAI;AAAI;AAAW;;;AAAI,SAAA,YAAA,GAAA,CCjBhC;;AACD,IAAA,KAAA,EAAA;AACY;AAHV,EAAA,YAAA,CAAA,SAAA,CAAA,QAAA;AACF;AACA;;;AACgB,IAAH,6BAA6B,GAAiB;AACzD,EAAA,QAAQ,EAAE;AAD+C,CAA3C;AAGhB;;AACgB,IAAH,qBAAqB,GAAG,IAAI,cAAJ,CAAiC,wBAAjC,EAA2D;AAC9F,EAAA,UAAU,EAAE,MADkF;AAE9F,EAAA,OAAO,EAAE;AAFqF,CAA3D,CAArB;AAIhB;AACG;AAAe;;AAAI,SAAN,6BAAM,GAAuB;AAC3C,SAAO,6BAAP;AACD;;IAMY,e;AAAkB;AAAQ;AACnC;AAA6B;AAEZ;AACT;AAUV,2BACU,MADV,EAEU,UAFV,EAGqD,MAHrD,EAIqD,aAJrD,EAI0E;AAAA;;AAHhE,SAAA,MAAA,GAAA,MAAA;AACA,SAAA,UAAA,GAAA,UAAA;AAC2C,SAAA,MAAA,GAAA,MAAA;AACA,SAAA,aAAA,GAAA,aAAA;AAjB5C,SAAA,eAAA,GAAkB,KAAlB;AAGD,SAAA,YAAA,GAAwB,KAAxB;AAgBN,SAAK,YAAL,GAAoB,KAAK,gBAAL,EAApB;AACD;AACH;AACO;AAAmB;;;;;SAjBxB,eAAY;AACV,aAAO,KAAK,YAAZ;AACD;AACH;AACO;AAAmB;;;;SAAxB,eAAe;AACb,aAAO,KAAK,YAAZ;AACD;AACH;AACO;AACI;;;;WAQT,4BAAgB;AAAK;AACP,UAAR,QAAQ,GAAG,KAAH;;AACZ,UAAI,KAAK,MAAL,IAAe,OAAO,KAAK,MAAL,CAAY,QAAnB,KAAgC,SAAnD,EAA8D;AAC5D,QAAA,QAAQ,GAAG,KAAK,MAAL,CAAY,QAAvB;AACD;;AACD,UAAI,KAAK,aAAL,KAAuB,gBAA3B,EAA6C;AAC3C,QAAA,QAAQ,GAAG,IAAX;AACD;;AACD,aAAO,QAAP;AACD;AACH;AACO;AACL;;;;WADA,uBAAW;AACT,UAAI,KAAK,YAAT,EAAuB;AACrB,aAAK,YAAL,CAAkB,OAAlB;AACD;AACF;AACH;AACO;AACF;;;;WADH,oBAAQ;AACN,WAAK,mBAAL;AACD;AACH;AACO;AAAmB;;;;WAAxB,+BAAmB;AACjB,UAAI,CAAC,KAAK,YAAN,IAAsB,KAAK,UAAL,CAAgB,aAA1C,EAAyD;AACvD,aAAK,YAAL,GAAoB,IAAI,cAAJ,CAAmB,KAAK,UAAL,CAAgB,aAAnC,EAAkD,KAAK,MAAvD,EAA+D,KAAK,eAApE,CAApB;AACD;AACF;AACH;AACO;AACD;;;;WADJ,mBAAO;AACL,WAAK,YAAL,GAAoB,IAApB;;AACA,UAAI,KAAK,YAAT,EAAuB;AACrB,aAAK,YAAL,CAAkB,kBAAlB;AACA,aAAK,YAAL,CAAkB,uBAAlB;AACD;AACF;AACH;AACO;AACA;;;;WADL,kBAAM;AAAK;AAET,WAAK,YAAL,GAAoB,KAAK,gBAAL,MAA2B,KAA/C;;AACA,UAAI,KAAK,YAAT,EAAuB;AACrB,aAAK,YAAL,CAAkB,gBAAlB;AACD;AACF;;;;;;gCApEF,uB,CAAS,C,EAAA;AAAC,SAAA,KAAA,CAAA,IAAA,eAAA,EACC,MAAA,CAAA,iBAAA,CAAA,MAAA,CAAA,MAAA,CADD,EACC,MAAkD,CAAA,iBAAlD,CACV,MAAU,CAAA,UADA,CADD,EAES,MAAA,CAAA,iBAAA,CACnB,qBADmB,EACnB,CADmB,CAFT,EAGV,MAAA,CAAA,iBAAA,CAAA,qBAAA,EAAA,CAAA,CAHU,CAAA;AAGV,C;;;;;;;;aACI,Q;;AAAC;;AAAmB,eAAA,CAAA,cAAA,GAAA;AAAA,SAAA,CACnB;AAAA,IAAA,IAAA,EA1ByD;AA0BzD,GADmB,EAzBgD;AAAA,IAAA,IAAA,EAArD;AAAqD,GAyBhD,EAzBS;AAAA,IAAA,IAAA,EAAA,SAAA;AAAA,IAAA,UAAA,EAAA,CAAA;AAAA,MAAA,IAAA,EA0C7B;AA1C6B,KAAA,EA0CrB;AAAA,MAAA,IAAA,EAAI,MAAJ;AAAU,MAAA,IAAA,EAAA,CAAC,qBAAD;AAAV,KA1CqB;AAAA,GAyBT,EAiB6B;AAAA,IAAA,IAAA,EAAA,MAAA;AAAA,IAAA,UAAA,EAAA,CAAA;AAAA,MAAA,IAAA,EACjD;AADiD,KAAA,EACzC;AAAA,MAAA,IAAA,EAAI,MAAJ;AAAU,MAAA,IAAA,EAAA,CAAC,qBAAD;AAAV,KADyC;AAAA,GAjB7B,CAAA;AAAA,CAAA;;AAkB+B,eAAA,CAAA,cAAA,GAAA;AAEhD,EAAA,eAAA,EAAA,CAAA;AAAA,IAAA,IAAA,EAnBL;AAmBK,GAAA;AAFgD,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAjB1C,C;;AAAC,IAAA,KAAA,EAAA;AAAa;AAA1B,EAAA,eAAA,CAAA,SAAA,CAAA,eAAA;AACF;AACO;AAAiB;AAAgB;;AAAtC,EAAA,eAAA,CAAA,SAAA,CAAA,YAAA;AACF;AAAQ;AAAiB;AACzB;;AADE,EAAA,eAAA,CAAA,SAAA,CAAA,YAAA;AACF;AACO;AAAiB;AACZ;;AAQR,EAAA,eAAA,CAAA,SAAA,CAAA,MAAA;AAAuB;AACpB;AAAiB;AACpB;;AADA,EAAA,eAAA,CAAA,SAAA,CAAA,UAAA;AAA+B;AAC5B;AAAiB;AAAgB;;AAApC,EAAA,eAAA,CAAA,SAAA,CAAA,MAAA;AAAwE;AACrE;AAAiB;AAAgB;;AAApC,EAAA,eAAA,CAAA,SAAA,CAAA,aAAA;AACJ;AAAG;AACF;AAAkC;AAGjB;AAGQ;;;IC1Cb,Y;;;;2BALZ,gB,CAAA;AAAA,EAAA,IAAQ,EAAA;AAAR,C;AACC,YAAA,CAAO,IAAP,GAAU,MAAA,CAAA,gBAAA,CAAe;AAAA,EAAA,OACzB,EAAA,SAAU,oBAAV,CAA0B,CAA1B,EAA0B;AAAA,WAC1B,KAAA,CAAA,IAAc,YAAd,GAD0B;AACK,GAFN;AAEM,EAAA,OAAA,EAAA,CAAA,CAChC,cADgC,CAAA;AAFN,CAAf,CAAV;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIG,C;AAAE;AAAI;AACK;AAAiC;AAAsI;;AAAK;AAAI;AAAkC;AAA8C;AAAsI;;;AAAK,SAAA,qBAAA,EAAA,6BAAA,EAAA,6BAAA,EAAA,eAAA,EAAA,YAAA,EAAA,cAAA","sourcesContent":["/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Platform } from '@angular/cdk/platform';\nimport { NgZone } from '@angular/core';\n\nexport class NzWaveRenderer {\n  private waveTransitionDuration = 400;\n  private styleForPseudo: HTMLStyleElement | null = null;\n  private extraNode: HTMLDivElement | null = null;\n  private lastTime = 0;\n  private platform = new Platform();\n  clickHandler: () => void;\n  get waveAttributeName(): string {\n    return this.insertExtraNode ? 'ant-click-animating' : 'ant-click-animating-without-extra-node';\n  }\n\n  constructor(private triggerElement: HTMLElement, private ngZone: NgZone, private insertExtraNode: boolean) {\n    this.clickHandler = this.onClick.bind(this);\n    this.bindTriggerEvent();\n  }\n\n  onClick = (event: MouseEvent) => {\n    if (\n      !this.triggerElement ||\n      !this.triggerElement.getAttribute ||\n      this.triggerElement.getAttribute('disabled') ||\n      (event.target as HTMLElement).tagName === 'INPUT' ||\n      this.triggerElement.className.indexOf('disabled') >= 0\n    ) {\n      return;\n    }\n    this.fadeOutWave();\n  };\n\n  bindTriggerEvent(): void {\n    if (this.platform.isBrowser) {\n      this.ngZone.runOutsideAngular(() => {\n        this.removeTriggerEvent();\n        if (this.triggerElement) {\n          this.triggerElement.addEventListener('click', this.clickHandler, true);\n        }\n      });\n    }\n  }\n\n  removeTriggerEvent(): void {\n    if (this.triggerElement) {\n      this.triggerElement.removeEventListener('click', this.clickHandler, true);\n    }\n  }\n\n  removeStyleAndExtraNode(): void {\n    if (this.styleForPseudo && document.body.contains(this.styleForPseudo)) {\n      document.body.removeChild(this.styleForPseudo);\n      this.styleForPseudo = null;\n    }\n    if (this.insertExtraNode && this.triggerElement.contains(this.extraNode)) {\n      this.triggerElement.removeChild(this.extraNode as Node);\n    }\n  }\n\n  destroy(): void {\n    this.removeTriggerEvent();\n    this.removeStyleAndExtraNode();\n  }\n\n  private fadeOutWave(): void {\n    const node = this.triggerElement;\n    const waveColor = this.getWaveColor(node);\n    node.setAttribute(this.waveAttributeName, 'true');\n    if (Date.now() < this.lastTime + this.waveTransitionDuration) {\n      return;\n    }\n\n    if (this.isValidColor(waveColor)) {\n      if (!this.styleForPseudo) {\n        this.styleForPseudo = document.createElement('style');\n      }\n\n      this.styleForPseudo.innerHTML = `\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${waveColor};\n      }`;\n      document.body.appendChild(this.styleForPseudo);\n    }\n\n    if (this.insertExtraNode) {\n      if (!this.extraNode) {\n        this.extraNode = document.createElement('div');\n      }\n      this.extraNode.className = 'ant-click-animating-node';\n      node.appendChild(this.extraNode);\n    }\n\n    this.lastTime = Date.now();\n\n    this.runTimeoutOutsideZone(() => {\n      node.removeAttribute(this.waveAttributeName);\n      this.removeStyleAndExtraNode();\n    }, this.waveTransitionDuration);\n  }\n\n  private isValidColor(color: string): boolean {\n    return (\n      !!color &&\n      color !== '#ffffff' &&\n      color !== 'rgb(255, 255, 255)' &&\n      this.isNotGrey(color) &&\n      !/rgba\\(\\d*, \\d*, \\d*, 0\\)/.test(color) &&\n      color !== 'transparent'\n    );\n  }\n\n  private isNotGrey(color: string): boolean {\n    const match = color.match(/rgba?\\((\\d*), (\\d*), (\\d*)(, [\\.\\d]*)?\\)/);\n    if (match && match[1] && match[2] && match[3]) {\n      return !(match[1] === match[2] && match[2] === match[3]);\n    }\n    return true;\n  }\n\n  private getWaveColor(node: HTMLElement): string {\n    const nodeStyle = getComputedStyle(node);\n    return (\n      nodeStyle.getPropertyValue('border-top-color') || // Firefox Compatible\n      nodeStyle.getPropertyValue('border-color') ||\n      nodeStyle.getPropertyValue('background-color')\n    );\n  }\n\n  private runTimeoutOutsideZone(fn: () => void, delay: number): void {\n    this.ngZone.runOutsideAngular(() => setTimeout(fn, delay));\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Directive, ElementRef, Inject, InjectionToken, Input, NgZone, OnDestroy, OnInit, Optional } from '@angular/core';\nimport { ANIMATION_MODULE_TYPE } from '@angular/platform-browser/animations';\nimport { NzWaveRenderer } from './nz-wave-renderer';\n\nexport interface NzWaveConfig {\n  disabled?: boolean;\n}\n\nexport const NZ_WAVE_GLOBAL_DEFAULT_CONFIG: NzWaveConfig = {\n  disabled: false\n};\n\nexport const NZ_WAVE_GLOBAL_CONFIG = new InjectionToken<NzWaveConfig>('nz-wave-global-options', {\n  providedIn: 'root',\n  factory: NZ_WAVE_GLOBAL_CONFIG_FACTORY\n});\n\nexport function NZ_WAVE_GLOBAL_CONFIG_FACTORY(): NzWaveConfig {\n  return NZ_WAVE_GLOBAL_DEFAULT_CONFIG;\n}\n\n@Directive({\n  selector: '[nz-wave],button[nz-button]:not([nzType=\"link\"])',\n  exportAs: 'nzWave'\n})\nexport class NzWaveDirective implements OnInit, OnDestroy {\n  @Input() nzWaveExtraNode = false;\n\n  private waveRenderer?: NzWaveRenderer;\n  private waveDisabled: boolean = false;\n\n  get disabled(): boolean {\n    return this.waveDisabled;\n  }\n\n  get rendererRef(): NzWaveRenderer | undefined {\n    return this.waveRenderer;\n  }\n\n  constructor(\n    private ngZone: NgZone,\n    private elementRef: ElementRef,\n    @Optional() @Inject(NZ_WAVE_GLOBAL_CONFIG) private config: NzWaveConfig,\n    @Optional() @Inject(ANIMATION_MODULE_TYPE) private animationType: string\n  ) {\n    this.waveDisabled = this.isConfigDisabled();\n  }\n\n  isConfigDisabled(): boolean {\n    let disabled = false;\n    if (this.config && typeof this.config.disabled === 'boolean') {\n      disabled = this.config.disabled;\n    }\n    if (this.animationType === 'NoopAnimations') {\n      disabled = true;\n    }\n    return disabled;\n  }\n\n  ngOnDestroy(): void {\n    if (this.waveRenderer) {\n      this.waveRenderer.destroy();\n    }\n  }\n\n  ngOnInit(): void {\n    this.renderWaveIfEnabled();\n  }\n\n  renderWaveIfEnabled(): void {\n    if (!this.waveDisabled && this.elementRef.nativeElement) {\n      this.waveRenderer = new NzWaveRenderer(this.elementRef.nativeElement, this.ngZone, this.nzWaveExtraNode);\n    }\n  }\n\n  disable(): void {\n    this.waveDisabled = true;\n    if (this.waveRenderer) {\n      this.waveRenderer.removeTriggerEvent();\n      this.waveRenderer.removeStyleAndExtraNode();\n    }\n  }\n\n  enable(): void {\n    // config priority\n    this.waveDisabled = this.isConfigDisabled() || false;\n    if (this.waveRenderer) {\n      this.waveRenderer.bindTriggerEvent();\n    }\n  }\n}\n","/**\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { PlatformModule } from '@angular/cdk/platform';\nimport { NgModule } from '@angular/core';\nimport { NzWaveDirective } from './nz-wave.directive';\n\n@NgModule({\n  imports: [PlatformModule],\n  exports: [NzWaveDirective],\n  declarations: [NzWaveDirective]\n})\nexport class NzWaveModule {}\n"]},"metadata":{},"sourceType":"module"}