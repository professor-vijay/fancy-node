{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MODULE_CONFIG = {\n  'OnInit': 'hmrOnInit',\n  'OnStatus': 'hmrOnStatus',\n  'OnCheck': 'hmrOnCheck',\n  'OnDecline': 'hmrOnDecline',\n  'OnDestroy': 'hmrOnDestroy',\n  'AfterDestroy': 'hmrAfterDestroy'\n};\n\nfunction hmrModule(MODULE_REF, MODULE, CONFIG) {\n  if (CONFIG === void 0) {\n    CONFIG = exports.MODULE_CONFIG;\n  }\n\n  if (MODULE['hot']) {\n    MODULE['hot']['accept']();\n\n    if (MODULE_REF.instance[exports.MODULE_CONFIG['OnInit']]) {\n      if (MODULE['hot']['data']) {\n        MODULE_REF.instance[exports.MODULE_CONFIG['OnInit']](MODULE['hot']['data']);\n      }\n    }\n\n    if (MODULE_REF.instance[exports.MODULE_CONFIG['OnStatus']]) {\n      MODULE['hot']['apply'](function hmrOnStatus(status) {\n        MODULE_REF.instance[exports.MODULE_CONFIG['OnStatus']](status);\n      });\n    }\n\n    if (MODULE_REF.instance[exports.MODULE_CONFIG['OnCheck']]) {\n      MODULE['hot']['check'](function hmrOnCheck(err, outdatedModules) {\n        MODULE_REF.instance[exports.MODULE_CONFIG['OnCheck']](err, outdatedModules);\n      });\n    }\n\n    if (MODULE_REF.instance[exports.MODULE_CONFIG['OnDecline']]) {\n      MODULE['hot']['decline'](function hmrOnDecline(dependencies) {\n        MODULE_REF.instance[exports.MODULE_CONFIG['OnDecline']](dependencies);\n      });\n    }\n\n    MODULE['hot']['dispose'](function hmrOnDestroy(store) {\n      if (MODULE_REF.instance[exports.MODULE_CONFIG['OnDestroy']]) {\n        MODULE_REF.instance[exports.MODULE_CONFIG['OnDestroy']](store);\n      }\n\n      MODULE_REF.destroy();\n\n      if (MODULE_REF.instance[exports.MODULE_CONFIG['AfterDestroy']]) {\n        MODULE_REF.instance[exports.MODULE_CONFIG['AfterDestroy']](store);\n      }\n    });\n  }\n\n  return MODULE_REF;\n}\n\nexports.hmrModule = hmrModule;","map":{"version":3,"sources":["../src/hmr.ts"],"names":[],"mappings":";;;;;AAAa,OAAA,CAAA,aAAA,GAAgB;AAC3B,YAAU,WADiB;AAE3B,cAAY,aAFe;AAG3B,aAAW,YAHgB;AAI3B,eAAa,cAJc;AAK3B,eAAa,cALc;AAM3B,kBAAgB;AANW,CAAhB;;AASb,SAAA,SAAA,CAA0B,UAA1B,EAA2C,MAA3C,EAAwD,MAAxD,EAA8E;AAAtB,MAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAS,OAAA,CAAA,aAAT;AAAsB;;AAC5E,MAAI,MAAM,CAAC,KAAD,CAAV,EAAmB;AACjB,IAAA,MAAM,CAAC,KAAD,CAAN,CAAc,QAAd;;AACA,QAAI,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,QAAd,CAApB,CAAJ,EAAkD;AAChD,UAAI,MAAM,CAAC,KAAD,CAAN,CAAc,MAAd,CAAJ,EAA2B;AACzB,QAAA,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,QAAd,CAApB,EAA6C,MAAM,CAAC,KAAD,CAAN,CAAc,MAAd,CAA7C;AACD;AACF;;AACD,QAAI,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,UAAd,CAApB,CAAJ,EAAoD;AAClD,MAAA,MAAM,CAAC,KAAD,CAAN,CAAc,OAAd,EAAuB,SAAA,WAAA,CAAqB,MAArB,EAAgC;AACrD,QAAA,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,UAAd,CAApB,EAA+C,MAA/C;AACD,OAFD;AAGD;;AACD,QAAI,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,SAAd,CAApB,CAAJ,EAAmD;AACjD,MAAA,MAAM,CAAC,KAAD,CAAN,CAAc,OAAd,EAAuB,SAAA,UAAA,CAAoB,GAApB,EAA8B,eAA9B,EAAkD;AACvE,QAAA,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,SAAd,CAApB,EAA8C,GAA9C,EAAmD,eAAnD;AACD,OAFD;AAGD;;AACD,QAAI,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,WAAd,CAApB,CAAJ,EAAqD;AACnD,MAAA,MAAM,CAAC,KAAD,CAAN,CAAc,SAAd,EAAyB,SAAA,YAAA,CAAsB,YAAtB,EAAuC;AAC9D,QAAA,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,WAAd,CAApB,EAAgD,YAAhD;AACD,OAFD;AAGD;;AACD,IAAA,MAAM,CAAC,KAAD,CAAN,CAAc,SAAd,EAAyB,SAAA,YAAA,CAAsB,KAAtB,EAAgC;AACvD,UAAI,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,WAAd,CAApB,CAAJ,EAAqD;AACnD,QAAA,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,WAAd,CAApB,EAAgD,KAAhD;AACD;;AACD,MAAA,UAAU,CAAC,OAAX;;AACA,UAAI,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,cAAd,CAApB,CAAJ,EAAwD;AACtD,QAAA,UAAU,CAAC,QAAX,CAAoB,OAAA,CAAA,aAAA,CAAc,cAAd,CAApB,EAAmD,KAAnD;AACD;AACF,KARD;AASD;;AACD,SAAO,UAAP;AACD;;AAlCD,OAAA,CAAA,SAAA,GAAA,SAAA","sourcesContent":["export const MODULE_CONFIG = {\n  'OnInit': 'hmrOnInit',\n  'OnStatus': 'hmrOnStatus',\n  'OnCheck': 'hmrOnCheck',\n  'OnDecline': 'hmrOnDecline',\n  'OnDestroy': 'hmrOnDestroy',\n  'AfterDestroy': 'hmrAfterDestroy'\n};\n\nexport function hmrModule(MODULE_REF: any, MODULE: any, CONFIG = MODULE_CONFIG) {\n  if (MODULE['hot']) {\n    MODULE['hot']['accept']();\n    if (MODULE_REF.instance[MODULE_CONFIG['OnInit']]) {\n      if (MODULE['hot']['data']) {\n        MODULE_REF.instance[MODULE_CONFIG['OnInit']](MODULE['hot']['data']);\n      }\n    }\n    if (MODULE_REF.instance[MODULE_CONFIG['OnStatus']]) {\n      MODULE['hot']['apply'](function hmrOnStatus(status: any) {\n        MODULE_REF.instance[MODULE_CONFIG['OnStatus']](status);\n      });\n    }\n    if (MODULE_REF.instance[MODULE_CONFIG['OnCheck']]) {\n      MODULE['hot']['check'](function hmrOnCheck(err: any, outdatedModules: any) {\n        MODULE_REF.instance[MODULE_CONFIG['OnCheck']](err, outdatedModules);\n      });\n    }\n    if (MODULE_REF.instance[MODULE_CONFIG['OnDecline']]) {\n      MODULE['hot']['decline'](function hmrOnDecline(dependencies: any) {\n        MODULE_REF.instance[MODULE_CONFIG['OnDecline']](dependencies);\n      });\n    }\n    MODULE['hot']['dispose'](function hmrOnDestroy(store: any) {\n      if (MODULE_REF.instance[MODULE_CONFIG['OnDestroy']]) {\n        MODULE_REF.instance[MODULE_CONFIG['OnDestroy']](store);\n      }\n      MODULE_REF.destroy();\n      if (MODULE_REF.instance[MODULE_CONFIG['AfterDestroy']]) {\n        MODULE_REF.instance[MODULE_CONFIG['AfterDestroy']](store);\n      }\n    });\n  }\n  return MODULE_REF;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}